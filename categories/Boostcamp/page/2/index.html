<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Category: Boostcamp - Jo Member</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Jo Member"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Jo Member"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="끄적끄적"><meta property="og:type" content="blog"><meta property="og:title" content="Jo Member"><meta property="og:url" content="https://jo-member.github.io/"><meta property="og:site_name" content="Jo Member"><meta property="og:description" content="끄적끄적"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://jo-member.github.io/img/og_image.png"><meta property="article:author" content="jo-member"><meta property="article:tag" content="AI, Deep_learning, python, nlp, cv"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://jo-member.github.io"},"headline":"Jo Member","image":["https://jo-member.github.io/img/og_image.png"],"author":{"@type":"Person","name":"jo-member"},"description":"끄적끄적"}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.png" alt="Jo Member" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/jo-member"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/categories">Categories</a></li><li class="is-active"><a href="#" aria-current="page">Boostcamp</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-02-03T15:00:00.000Z" title="2020. 2. 4. 오전 12:00:00">2020-02-04</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-04-21T17:35:17.925Z" title="2021. 4. 22. 오전 2:35:17">2021-04-22</time></span><span class="level-item"><a class="link-muted" href="/categories/Boostcamp/">Boostcamp</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/02/04/2021-02-04-Boostcamp14.2/">Day14) RNN2</a></h1><div class="content"><p><br/><br/></p>
<h1 id="Transformer"><a href="#Transformer" class="headerlink" title="Transformer"></a>Transformer</h1><br/>

<h2 id="Sequential-Model"><a href="#Sequential-Model" class="headerlink" title="Sequential Model"></a>Sequential Model</h2><br/>

<p><img src="/assets/images/image-20210204173823314.png" alt="image-20210204173823314"></p>
<p>위와 같은 문제로, RNN같이 sequential한 문제들을 해결할 때, 중간에 단어가 빠지거나 하면 해결하기가 어려움</p>
<p>—&gt; 여기서 나온게 Attention을 사용한 Transformer</p>
<br/>

<h2 id="Transformer-1"><a href="#Transformer-1" class="headerlink" title="Transformer"></a>Transformer</h2><br/>

<ul>
<li>Transformer is the first sequence transduction model based entirely on attention</li>
<li>RNN처럼 재귀적인게 아니라 based on attention</li>
</ul>
<p><img src="/assets/images/image-20210204174108604.png" alt="image-20210204174108604"></p>
<ul>
<li>from a bird’s-eye view, this is what the Transformer does for machine translation tasks</li>
</ul>
<p><img src="/assets/images/image-20210204185901783.png" alt="image-20210204185901783"></p>
<p>결국은 sequence to sequnece (불어 -&gt; 영어 )machine translation</p>
<p>입출력 sequence 는 숫자가 다를수 있다</p>
<p><img src="/assets/images/image-20210204185951005.png" alt="image-20210204185951005"></p>
<p>모델은 하나임. 100개가 들어가도 100번 재귀적으로 들어가는게아니라 한번에 n개를 처리</p>
<p>generation할때는 1단어씩 만들게 된다</p>
<p>동일한구조를 가지지만 공유하지 않는 encoder와 decoder가 stack되어있다</p>
<p>encoder가 바뀔수 있는 n개의 단어를 어떻게 처리하는지</p>
<p>1개의 encoder에 n개의 단어가 한번에 들어간다</p>
<p>self attention + Feed Forward Neural Network -&gt;next encoder</p>
<p>Self- Attention is the cornerstone of Transformer</p>
<h2 id="Transformer-2"><a href="#Transformer-2" class="headerlink" title="Transformer"></a>Transformer</h2><p><img src="/assets/images/image-20210205094243692.png" alt="image-20210205094243692"></p>
<p><img src="/assets/images/image-20210205094305510.png" alt="image-20210205094305510"></p>
<p><img src="/assets/images/image-20210205094323449.png" alt="image-20210205094323449"></p>
<p><img src="/assets/images/image-20210205094338045.png" alt="image-20210205094338045"></p>
<p><img src="/assets/images/image-20210205094354596.png" alt="image-20210205094354596"></p>
<p><img src="/assets/images/image-20210205094421353.png" alt="image-20210205094421353"></p>
<p><img src="/assets/images/image-20210205094434034.png" alt="image-20210205094434034"></p>
<p><img src="/assets/images/image-20210205094446386.png" alt="image-20210205094446386"></p>
<p><img src="/assets/images/image-20210205094508533.png" alt="image-20210205094508533"></p>
<p><img src="/assets/images/image-20210205094524834.png" alt="image-20210205094524834"></p>
<p><img src="/assets/images/image-20210205094724396.png" alt="image-20210205094724396"></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-02-02T15:00:00.000Z" title="2020. 2. 3. 오전 12:00:00">2020-02-03</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-04-21T17:35:03.109Z" title="2021. 4. 22. 오전 2:35:03">2021-04-22</time></span><span class="level-item"><a class="link-muted" href="/categories/Boostcamp/">Boostcamp</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/02/03/2021-02-03-Boostcamp13.2/">D13) 딥러닝기초</a></h1><div class="content"><br/>

<h1 id="Computer-Vision-application"><a href="#Computer-Vision-application" class="headerlink" title="Computer Vision application"></a>Computer Vision application</h1><br/>

<h2 id="Fully-Convolutional-Network"><a href="#Fully-Convolutional-Network" class="headerlink" title="Fully Convolutional Network"></a>Fully Convolutional Network</h2><ul>
<li>기존의 CNN 구조 : <img src="assets/images/image-20210203184815070-1612348862409.png" alt="image-20210203184815070"></li>
<li>Fully Convolutional Network : <img src="assets/images/image-20210203184859006.png" alt="image-20210203184859006"></li>
</ul>
<p>Dense layer를 없앴다. - &gt; convolutionize</p>
<p>결국 input과 output은 같다</p>
<p>parameter도 같다</p>
<p>flat을 해서 dense layer를 거치나, convolution을 거치나 같다</p>
<p>ex) 4x4x16  이 였다면 이걸 256개의 vector로 flatten 시킨다</p>
<p>​      FCN을 보면 4x4x16에 똑같은 크기를 가진 kernel을 적용한다</p>
<p>parameter </p>
<p>4x4x16x10 = 2560</p>
<p>4x4x16x10 = 2560</p>
<p>같다</p>
<p><img src="assets/images/image-20210203185349968-1612348862411.png" alt="image-20210203185349968"></p>
<p>이런짓이 convolutionization</p>
<p><strong>왜 이런걸 할까????</strong></p>
<p>image segmentation 관점에서 생각을 해보자</p>
<ul>
<li><p>Fully convolutional network가 가지는 가자은 특징은 바로 input dimension, 특히나 input dimension의 spacial dimension이다</p>
</li>
<li><p>Transforming fully connected layer into convolutional layers enables a classification to output a hitmap</p>
</li>
<li><p>output이 커지게 되면 이거에 비례해서 뒷단의 spacial dimension이 커지게 됨</p>
<p>Because of convolution이 가지는 shared parameter의 성질 때문에</p>
</li>
<li><p>원래는 출력의 hitmap은 input보다 크기가 줄어들기는 하다</p>
<p>그렇지만 hitmap이라는 가능성이 생겼구나!!!</p>
</li>
<li><p>그래서 어떠한 inputsize에도 돌아가지만 이러한 작아진 output을 <strong>다시 input size만큼 늘리는 방법</strong></p>
</li>
</ul>
<ol>
<li><strong>Deconvolution(convolution transpose)</strong></li>
</ol>
<p>간단하게 생각하면 convolution 연산으로 줄어든 결과를 convolution의 역연산으로 다시 늘려주는</p>
<p>근데 convolution의 역연산이 존재하나? 불가능하다</p>
<p>근데 그냥 간단하게 이렇게 생각하는게 편하다</p>
<p>deconvolution은 결국 convolution이후에 결과에 padding을 많이 줘서 여기에 같은 size에 kernel을 적용하는것이다</p>
<br/>

<h2 id="Dectection"><a href="#Dectection" class="headerlink" title="Dectection"></a>Dectection</h2><br/>

<h3 id="R-CNN"><a href="#R-CNN" class="headerlink" title="R-CNN"></a>R-CNN</h3><ol>
<li>takes and input image</li>
<li>extract around 2000 region proposal (using selective search)</li>
<li>computes features for each proposal (size는 모두 똑같이 맞추어 준다, use AlexNet)</li>
<li>classifies with linear SVMs</li>
</ol>
<h3 id="SPPNet"><a href="#SPPNet" class="headerlink" title="SPPNet"></a>SPPNet</h3><ul>
<li>RCNN의 문제 : 2000개를 뽑으면 2000개를 전부 CNN에 돌려야 되기 때문에 시간이 졸라 많이 걸린다</li>
<li>따라서 일단 image 안에서 bounding box를 뽑고 image 전체를 CNN에 돌리고, 해당하는 위치의 tensor만을 활용하자</li>
</ul>
<br/>

<h3 id="Fast-R-CNN"><a href="#Fast-R-CNN" class="headerlink" title="Fast R-CNN"></a>Fast R-CNN</h3><p><img src="assets/images/image-20210203192314454-1612348862411.png" alt="image-20210203192314454"></p>
<p> selective search로 bounding box를 얻고 전체 이미지를 CNN에 통과 그리고 ROI pooling layer를 통해 각각의 region에 대해서 feature를 뽑는다</p>
<p>그리고 마지막에  Fully connected layer을 통해 bounding box를 어떻게 움직이면좋은지, label이 뭔지를 알아낸다</p>
<br/>

<h3 id="Faster-R-CNN"><a href="#Faster-R-CNN" class="headerlink" title="Faster R-CNN"></a>Faster R-CNN</h3><br/>

<p>Bounding box를 뽑아내는 Region proposal도 학습을 하자!</p>
<p>selective search를 하지말고 이것도 학습을 하자는 의미</p>
<p>이 network를 region proposal Network가 추가됨</p>
<p><strong>Region proposal Network</strong></p>
<ul>
<li>이미지의 특정영역이 bounding box로서 의미가 있는지 없는지만 찾아주는 Network</li>
<li>여기서 필요한게 Anchor box</li>
<li>미리 정해놓은 Bounding box의 크기 : anchor box</li>
</ul>
<p>어떤 크기의 물체가 있을것 같다?</p>
<p>해당하는 영역의 이미지에 물체가 들어있을지 안들어있을지가 </p>
<p><img src="/assets/images/image-20210203195347275.png" alt="image-20210203195347275"></p>
<p>해당하는 영역에 물체가있을지에 대한 정보를 알고있다</p>
<p>9개의 region size중에 1개를 골라서</p>
<p>얼마나 bounding box를 늘이거나 줄일지 , xy에 off set을 줘야 해서 4개의 parameter</p>
<p>해당 box가 쓸만한지 아닌지</p>
<p>9x(4+2) = 54만큼의 channel이 나오는</p>
<br/>

<h2 id="YOLO"><a href="#YOLO" class="headerlink" title="YOLO"></a>YOLO</h2><br/>

<p>faster R-CNN보다 훨씬 빠름</p>
<p>Region에 해당하는 sub tensor을 분류하는게 아니라 그냥 image를 때려 넣으면 딱 나오기 떄문에 빠름</p>
<ul>
<li>no exclusive bounding box sampling (region proposal)</li>
</ul>
<p>YOLO에 대해서는 추가로 정리해서 따로 posting 하겠다</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-01-31T15:00:00.000Z" title="2020. 2. 1. 오전 12:00:00">2020-02-01</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-04-21T17:34:49.827Z" title="2021. 4. 22. 오전 2:34:49">2021-04-22</time></span><span class="level-item"><a class="link-muted" href="/categories/Boostcamp/">Boostcamp</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/02/01/2021-02-01-Boostcamp11/">D11) 딥러닝기초</a></h1><div class="content"><br/>

<h1 id="베이즈-통계학"><a href="#베이즈-통계학" class="headerlink" title="베이즈 통계학"></a>베이즈 통계학</h1><ul>
<li>데이터가 추가되었을때 쓰는 인과관계에 대한 추론법</li>
</ul>
<h2 id="조건부-확률"><a href="#조건부-확률" class="headerlink" title="조건부 확률"></a>조건부 확률</h2><br/>

<ul>
<li>베이즈 정리는 곧 조건부 확률을 이용하여 정보를 갱신하는 방법을 알려줍니다</li>
</ul>
<p><img src="/assets/images/image-20210201112623410.png" alt="image-20210201112623410"></p>
<p>결국 우리가 알고 싶은 것은 A라는 새로운 추가적인 정보가 들어왔을때 P(B)로 부터 P(B l A)를 계산하는 방법을 제공한다</p>
<br/>

<h2 id="실제로-그럼-어디에-쓸까"><a href="#실제로-그럼-어디에-쓸까" class="headerlink" title="실제로 그럼 어디에 쓸까"></a>실제로 그럼 어디에 쓸까</h2><p><img src="/assets/images/image-20210201113042309.png" alt="image-20210201113042309"></p>
<ul>
<li>D : data , $\theta$ : 모수</li>
<li>사후확률 : 데이터가 주어져 있을때  $\theta$에 대한 확률</li>
<li>사전확률 : 데이터가 없는 상황에서 사전에 주어진  $\theta$ 에 대한 확률</li>
<li>Likelihood : 현재 주어진 모수에서 어떠한 Data가 관찰될 확률</li>
<li>Evidence : Data 자체의 분포</li>
</ul>
<br/>

<p>ex) COVID의 발병률이 10%로 알려져 있을 때, 이 바이러스에 실제로 <strong>걸렸을때</strong>(조건부) 검진될 확률 : 99%, 오검진 확률 : 1%</p>
<p>이 때, 어떤 사람이 양성판정일때 정말로 이사람이 바이러스에 감였되었을 확률</p>
<br/>

<p>발병률 : 사전확률</p>
<p>실제로 걸렸을 확률 :  $\theta$ </p>
<p>검진된 경우 : D</p>
<p>실제로 걸렸을 때 검진될 확률 : P(D l $\theta$) : Likelihood</p>
<p>가능도와 사전확률이 주어져 있으므로, 사후확률 계산가능</p>
<p>그렇다면 Evidence의 계산법은????????</p>
<p><img src="/assets/images/image-20210201120929030.png" alt="image-20210201120929030"></p>
<p>따라서  $\theta$를 부정했을때의 likelihood도 알아야 계산이 가능하다</p>
<h2 id="조건부-확률의-시각화"><a href="#조건부-확률의-시각화" class="headerlink" title="조건부 확률의 시각화"></a>조건부 확률의 시각화</h2><p> <img src="/assets/images/image-20210201121230522.png" alt="image-20210201121230522"></p>
<p>데이터의 성격에 따라 1종오류을 줄이냐 2종오류를 줄이냐가 달라진다</p>
<p>Ex) 의료문제의 경우 False Negative : 질병이 아니다라고 했는데 실제로 질병일 경우 따라서 False Negative에 신경을 쓴다</p>
<br/>



<p>사전 확률 : 질병에 걸릴 확률, 안걸릴 확률</p>
<p>민감도 : 걸린걸 걸렸다고 탐지</p>
<p>실제로 걸렸을 때 걸렸다고 할 확률 : 민감도</p>
<p>실제로 걸리지 않았을때 걸렸다고 할 확률 : 오탐</p>
<p>양성이 나왔을때  진짜 양성인 경우 : True Positive </p>
<p>음성이 나왔을때 진짜 음성인 경우 : True Negative</p>
<p>양성이 나왔을때 음성인 경우 : 1종 오류</p>
<p>음성이 나왔는데 질병에 걸린 경우 : 2종 오류</p>
<p>정밀도 : TP/(TP+FP)</p>
<br/>

<h2 id="베이즈-정리를-통한-정보의-갱신"><a href="#베이즈-정리를-통한-정보의-갱신" class="headerlink" title="베이즈 정리를 통한 정보의 갱신"></a>베이즈 정리를 통한 정보의 갱신</h2><ul>
<li>베이즈 정리를 통해 새로운 데이터가 들어왔을 경우 앞서 계산한 사후확률을 사전확률로 사용하여 갱신된 사후확률을 계산가능</li>
<li>앞서 양성 판정을 받은 사람이 2번째 검진을 받았을 때도 양성이 나왔을때 진짜 COVID에 걸렸을 확률은?&gt;??????</li>
</ul>
<p>베이즈 정리를 활용하여 사후확률을 연속으로 계산해보면 정밀도가 화아아악 올라간다</p>
<p>이게 바로 베이즈 정리의 강점!!</p>
<br/>

<ul>
<li><strong>BUT!!! 조건부확률로 인과관계를 추론해서는 안된다!!!!!!!!!!!</strong></li>
<li>인과 관계는 데이터 분포의 변화에 강건한 예측모형을 만들 때 고려해 주어야 한다</li>
<li>인과 관계를 고려했을 시에 예측도는 떨어질 수 있음</li>
<li>인과 관계를 알아내기 위해서는 중첩요인(confounding factor)의 효과를 제거하고 원인에 해당하는 변수만의 인과관계를 계산해야 한다</li>
<li><img src="/assets/images/image-20210201125109622.png" alt="image-20210201125109622"></li>
</ul>
<p>ex) 키와 지능 -&gt; 여기에 나이에 따른 효과를 제거하지 않는다면 키가 클수록 지능이 높다라는 결과가 나오게 됨</p>
<p>이러한 나이와 같은 중첩요인을 제거하는 것이 Main Point</p>
<br/>

<p>Ex)</p>
<p><img src="/assets/images/image-20210201125438048.png" alt="image-20210201125438048"></p>
<p>위의 문제가 바로 아주 유명한 simpsons 역설</p>
<p>a와b의 중첩효과를 제거해야 됨</p>
<p>Z의 개입을 제거하기 위해 조정(intervention)효과를 사용한다???</p>
<p>조정효과에 대한 개념이 조금 필요할듯 싶다</p>
<h1 id="Deep-Learning-Historical-Review"><a href="#Deep-Learning-Historical-Review" class="headerlink" title="Deep Learning ; Historical Review"></a>Deep Learning ; Historical Review</h1><p>사람의 지능을 모방하는 인공지능 AI &gt; data based Machine Learning &gt; Deep Learning (NN을 사용하는)</p>
<br/>

<h2 id="Key-components-of-Deep-learning"><a href="#Key-components-of-Deep-learning" class="headerlink" title="Key components of Deep learning"></a>Key components of Deep learning</h2><ol>
<li>Data that model can learn</li>
<li>Model how to transform data</li>
<li>Loss Function that quantifies the badness of model</li>
<li>Algorithm to adjust the parameters to minimize the Loss Function (최적화 알고리즘)</li>
</ol>
<img src="/assets/images/image-20210201183439274.png" alt="image-20210201183439274" style="zoom: 80%;" />





<h2 id="Historical-Review"><a href="#Historical-Review" class="headerlink" title="Historical Review"></a>Historical Review</h2><br/>

<h3 id="1-AlexNet"><a href="#1-AlexNet" class="headerlink" title="1. AlexNet"></a>1. AlexNet</h3><ul>
<li>224*224의 image data 분류대회에서 처음으로 Deep Learning을 사용하여 1등함</li>
<li>실제적으로 딥러닝의 성능이 입증이 되었던 사실</li>
</ul>
<br/>

<h3 id="2-DQN"><a href="#2-DQN" class="headerlink" title="2. DQN"></a>2. DQN</h3><ul>
<li>Q -Learning의 function estimation에 NN을 추가하여 높은 성능을 이끌어냄</li>
</ul>
<br/>

<h3 id="3-Encoder-Decoder"><a href="#3-Encoder-Decoder" class="headerlink" title="3. Encoder/Decoder"></a>3. Encoder/Decoder</h3><ul>
<li>NLP의 trend가 많이 바뀌었다</li>
</ul>
<br/>

<h3 id="4-Adam-Optimizer"><a href="#4-Adam-Optimizer" class="headerlink" title="4. Adam Optimizer"></a>4. Adam Optimizer</h3><ul>
<li>우리가 optimizer를 선정할때 Adam을 그냥 쓰는 이유가 있을까? 결과가 잘나오는 이유가 있을까?</li>
</ul>
<br/>

<h3 id="5-GAN"><a href="#5-GAN" class="headerlink" title="5. GAN"></a>5. GAN</h3><ul>
<li>Generate Model  : Network가 data를 생성!</li>
</ul>
<br/>

<h3 id="6-RESNET"><a href="#6-RESNET" class="headerlink" title="6. RESNET"></a>6. RESNET</h3><ul>
<li>왜 딥러닝이냐를 설명해주었다</li>
<li>Layer를 더욱더 깊게 쌓을수 있게 만들어줌</li>
</ul>
<br/>

<h3 id="7-Transformer"><a href="#7-Transformer" class="headerlink" title="7. Transformer"></a>7. Transformer</h3><ul>
<li><strong>Attention is all you need!!</strong></li>
<li>모든 기존의 RNN을 대체하였고, 이젠 CNN도 넘보고 있다</li>
</ul>
<br/>

<h3 id="8-BERT-fine-tuned-NLP-model"><a href="#8-BERT-fine-tuned-NLP-model" class="headerlink" title="8. BERT (fine tuned NLP model)"></a>8. BERT (fine tuned NLP model)</h3><ul>
<li>일반적인 단어들로 model을 train한후에 내가 원하는 소수의 data에 fine tunning</li>
<li>OPENAI의 GPT-3</li>
</ul>
<h3 id="9-Self-Supervised-Learning"><a href="#9-Self-Supervised-Learning" class="headerlink" title="9. Self Supervised Learning"></a>9. Self Supervised Learning</h3><ul>
<li>이미지 분류와 같은 분류문제를 풀때 한정된 학습데이터로 model과 loss fun을 바꿔가는게 아닌 학습데이터 외에 라벨을 모르는 Unsupervised Learning 활용</li>
<li>SimCLR</li>
</ul>
<br/>

<h1 id="Neural-Networks"><a href="#Neural-Networks" class="headerlink" title="Neural Networks"></a>Neural Networks</h1><br/>

<p>단순히 Function approximate이다</p>
<p>gradient ascent 라면 reward를 키우도록 ! 이런게 되겠구만</p>
<p>step size $\eta$</p>
<p>행렬을 찾겠다 -&gt; 서로다른 차원의 선형변환을 찾겠다</p>
<p><img src="assets/images/image-20210201202237271.png" alt="image-20210201202237271"></p>
<p>이렇게 그저 연속된 선형변환은 하나의 선형변환으로 합쳐질수 있기 떄문에 층을 여러개 쌓는 이유가 사라진다</p>
<p>따라서 층 중간에 activation function을 넣어준다 -&gt; nonlinear transform</p>
<p>선형결합의 반복이 아닌 nonlinear transform의 결합</p>
<p>더 많은 표현력을 가지게 됨</p>
<br/>

<p>존재성이 중요한게 아니라 표현력이 중요함</p>
<p>MSE는 제곱이라 data 사이에 error가 껴있을때 -&gt; 전체적인 NN이 망가질수도 있음</p>
<p>이렇게 항상 같은 Loss Function을 쓰는게 아니라 상황에 맞게</p>
<p>다른 값에 비해서 그값이 높기만 하면 그 index를 뽑는것 -&gt; 그래서 이걸 수학적으로 CE를 사용함</p>
<h1 id="데이터셋-다루기"><a href="#데이터셋-다루기" class="headerlink" title="데이터셋 다루기"></a>데이터셋 다루기</h1></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-01-28T15:00:00.000Z" title="2020. 1. 29. 오전 12:00:00">2020-01-29</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-04-21T17:34:36.472Z" title="2021. 4. 22. 오전 2:34:36">2021-04-22</time></span><span class="level-item"><a class="link-muted" href="/categories/Boostcamp/">Boostcamp</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/01/29/2021-01-28-Boostcamp10/">Day10</a></h1><div class="content"><p>Day10 : 확률론2</p>
<h2 id="모수란"><a href="#모수란" class="headerlink" title="모수란?"></a>모수란?</h2><ul>
<li>통계적 모델링은 적절한 가정위에서 확률분포를 추정하는것이 목표!</li>
</ul>
<ul>
<li>데이터는 유한하기 때문에 근사적으로 확률분포를 <span style="color:red">추정</span>할 수 밖에 없다</li>
</ul>
<ul>
<li>데이터가 특정확률분포를 따른다고 선험적으로 가정한 후 그분포를 결정하는 모수(parameter)를 추정하는 방법을 모수적 방법론이라고 한다</li>
</ul>
<ul>
<li>특정확률분포를 가정하지 않고 데이터에 따라 모델의 구조 및 모수의 개수가 유연하게 바뀌면 비모수방법론이다</li>
</ul>
<p><img src="/assets/images/image-20210129113507597.png" alt="image-20210129113507597"></p>
<p>데이터를 생성하는 원리를 먼저 고려하는 것이 원칙 !!!</p>
<h2 id="데이터로-모수를-추정해보자"><a href="#데이터로-모수를-추정해보자" class="headerlink" title="데이터로 모수를 추정해보자!"></a>데이터로 모수를 추정해보자!</h2><ul>
<li><p>표본평균 : 주어진 데이터의 산술평균</p>
<p><img src="/assets/images/image-20210129113753930.png" alt="image-20210129113753930"></p>
</li>
</ul>
<p>​         <strong>N-1로 나누는게 조금 신기하고 다른 점</strong> -&gt; 불편추정량</p>
<h3 id="중요한-개념"><a href="#중요한-개념" class="headerlink" title="중요한 개념"></a>중요한 개념</h3><ul>
<li><p>통계량(표본분산, 표본평균)의 확률분포를 표집분포라부르며(<strong>sampling distribution</strong>)  </p>
<p>이게 좀 신기한게 데이터들의 확률분포는 표본분포(sample distribution)이다</p>
</li>
<li><p>모집단의 확률분포가 정규분포를 따르지 않아도 sample의 갯수를 늘린다면 표본평균의 모집분포는 정규분포를 따른다</p>
</li>
</ul>
<p>가능도의 직관적인 정의 : 확률분포함수의 y값</p>
<ul>
<li>셀 수 있는 사건: <strong>가능도 = 확률</strong></li>
<li>연속 사건: <strong>가능도 ≠≠ 확률, 가능도 = PDF값</strong></li>
<li><img src="/assets/images/image-20210129134031326.png" alt="image-20210129134031326"></li>
<li>수식은 같지만 변수가 다름</li>
</ul>
<h2 id="최대가능도-추정법-MLE"><a href="#최대가능도-추정법-MLE" class="headerlink" title="최대가능도 추정법 (MLE)"></a>최대가능도 추정법 (MLE)</h2><ul>
<li><p>이론적으로 가장 가능성이 높은 모수를 추정하는 방법 중 하나가 바로 MLE다<img src="/assets/images/image-20210129115732709.png" alt="image-20210129115732709"></p>
<p>가능도 함수 : 데이터가 주어진 상황에서 $\theta$를 변형 시킴에 따라 변하는 함수로 이해</p>
<p>즉 조건부 함수와 비슷</p>
<p>그러나 $\theta$에 대한 확률이 아닌 대소비교가 가능한 그냥 함수라고 생각을 하자</p>
</li>
</ul>
<ul>
<li><p>데이터 집합 X가 독립적으로 추출되었을 경우 로그가능도를 최적화 합니다</p>
<p><img src="/assets/images/image-20210129120005351.png" alt="image-20210129120005351"></p>
</li>
</ul>
<ul>
<li>P(x<del>i</del> | $\theta$)의 곱이 풀어서 쓰면 로그들의 곱이라 로그의 합으로 나타낼 수 있다</li>
</ul>
<h2 id="왜-로그가능도를-사용하나요"><a href="#왜-로그가능도를-사용하나요" class="headerlink" title="왜 로그가능도를 사용하나요?"></a>왜 로그가능도를 사용하나요?</h2><p>데이터의 숫자가 졸라 많아지면 컴퓨터의 정확도로는 Likelyhood를 계산하는 것이 불가능하다</p>
<p>따라서 데이터가 독립일 경우 가능도의 곱셈을 가능도의 덧셈으로 바뀌면 컴퓨터로 연산해서 최적화 가능</p>
<p>경사하강법으로 가능도를 최적화할 때 미분 연산을 사용하게 되는데, 로그 가능도를 사용하면 연산량을</p>
<p>O(n^2^)에서 O(n)으로 줄어든다</p>
<p>대개의 손실함수의 경우 gradient descent를 사용하므로, 음의 로그가능도를 최적화하게 된다.</p>
<p>WHY 음의 로그가능도? -&gt; 손실함수를 <strong>최소화</strong> 해야하기 때문에 음의 로그가능도 사용</p>
<h3 id="Ex1-정규분포"><a href="#Ex1-정규분포" class="headerlink" title="Ex1 : 정규분포"></a>Ex1 : 정규분포</h3><p>독립적인 표본을 얻었을 때 최대가능도 추정법을 이용하여 모수를 추정하면</p>
<p><img src="/assets/images/image-20210129120730580.png" alt="image-20210129120730580"></p>
<p> $\theta$($\mu,\sigma$)에 대해 오른쪽 수식을 미분</p>
<p><img src="/assets/images/image-20210129124716185.png" alt="image-20210129124716185"></p>
<p><img src="/assets/images/image-20210129124943621.png" alt="image-20210129124943621"></p>
<p>유도과정을 손으로 도출해보기</p>
<h3 id="Ex2-카테고리-분포"><a href="#Ex2-카테고리-분포" class="headerlink" title="Ex2 : 카테고리 분포"></a>Ex2 : 카테고리 분포</h3><p><img src="/assets/images/image-20210129125236691.png" alt="image-20210129125236691"></p>
<p>카테고리 분포이기 때문에 제약식이 생김</p>
<p>여기서의 모수는 1-d 차원 까지 값이 1또는0이될 확률</p>
<p>모두 더했을때 1이 되어야 하는 제약식이 생긴것</p>
<p>근데 이보다 먼저 가테고리 분포에 대한 이해를 해보자</p>
<p><img src="/assets/images/image-20210129125926914.png" alt="image-20210129125926914"></p>
<p>베르누이 독립시행</p>
<p>동전을 100번 던졌다. 그 중 60번 나왔다. 앞면이 나올 확률이 p(모수)라고 하면 가장 이러한 사건이 일어날 가능도가 높은 p를 구해보면..</p>
<p>일단 100번 던져서 60번 앞면이 나오는 확률 P = 100C60 p^60 (1-p)^40</p>
<p>이러한 확률을 p로 미분했을 때 0이 되는 p값이 P가 최대가 될 떄일 것이며 이것이 MLE로 추정되는 모수 p이다.</p>
<p>로그함수의 성질을 생각했을때 P의 증감은 f(p) =log(p^60 (1-p)^40)과 증감이 같다. 즉 f(p) 가 최대가 될때 P도 최대가 된다.</p>
<p>df/dp = 60/p - 40/(1-p) = 0 , 즉 p = 0.6 일때 f’(p) = 0 이 되며 이것이 우리의 직관과 일치한다. (MLE 끝)</p>
<p><strong>이게 이제 이항분포</strong></p>
<p>전추정 : 0.5값을 가지고 싶어서 던졌는데</p>
<p>구분추정 : 신뢰구간</p>
<p>카테고리 확률분포에서 x데이터가 one hot encoding된 벡터구만</p>
<p>그래서 이렇게 표현하는것이였다</p>
<p><img src="/assets/images/image-20210129130229813.png" alt="image-20210129130229813"></p>
<p>오른쪽 제약식을 만족하면서 왼쪽 목적식을 최대화 -&gt; 최대가능도 추정(MLE)</p>
<p>여기서도 라그랑주가…..</p>
<p>이거 수식전개 해보기</p>
<p><img src="/assets/images/image-20210129131355105.png" alt="image-20210129131355105"></p>
<h2 id="딥러닝에서의-최대가능도-추정법"><a href="#딥러닝에서의-최대가능도-추정법" class="headerlink" title="딥러닝에서의 최대가능도 추정법"></a>딥러닝에서의 최대가능도 추정법</h2><p>딥러닝 모델의 가중치를  $\theta$(W1,W2,W3…,WL)이라 표기했을때 마지막 softmax vector은 카테고리분포의 모수(p<del>1</del>,p<del>2</del>…,p<del>k</del>)를 모델링한다</p>
<p>원핫벡터로 표현된 정답 레이블 y = (y<del>1</del>,y<del>2</del>….,y<del>k</del>)를 관찰데이터로 이용해 확률분포인 소프트멕스 벡터의 로그가능도를 최적화 할 수 있다.</p>
<p><img src="/assets/images/image-20210129131820658.png" alt="image-20210129131820658"></p>
<h2 id="확률분포에서의-거리"><a href="#확률분포에서의-거리" class="headerlink" title="확률분포에서의 거리"></a>확률분포에서의 거리</h2><ul>
<li>기계학습에서 유도되는 Loss function들은 모델이 학습하는 확률분포와 데이터에서 관찰되는 확률분포의 거리를 통해 유도된다</li>
</ul>
<p>두확률분포사이의 거리</p>
<ol>
<li>총변동거리 (Total Variation Distance, TV)</li>
<li>쿨백-라이블러 발산</li>
<li>바슈타인 거리</li>
</ol>
<h3 id="쿨백-라이블러-발산-Kullback-Leibler-Divergence"><a href="#쿨백-라이블러-발산-Kullback-Leibler-Divergence" class="headerlink" title="쿨백-라이블러 발산 (Kullback - Leibler Divergence)"></a>쿨백-라이블러 발산 (Kullback - Leibler Divergence)</h3><p>정의 </p>
<p><img src="/assets/images/image-20210129132132243.png" alt="image-20210129132132243"></p>
<p><img src="/assets/images/image-20210129132207760.png" alt="image-20210129132207760"></p>
<p>졸라리 어렵다</p>
<p>뭔소리인가 도대체 이게</p>
<p>결국은 정답레이블을 P, 모델 예측을 Q라 두면 ? </p>
<p><strong>Log likelihood를 최대화 하는것과 P와 Q사이의 쿨백하이블러 발산의 최소화는 밀접하다??</strong></p>
<p> 두개의 확률분포의 거리를 최소화 한다?</p>
<p>결국 결론은 !!!!!!!!!!!!!</p>
<p>딥러닝 기계학습에서 통계학적인 지식(MLE)들을 사용하여 Loss function을 최소화 시킬수 있다????</p>
<p>피어세션에서 이번 강의에 대한 심도깊은? 토론을 하였다</p>
<p><strong>Further Question</strong></p>
<ol>
<li><p>확률과 가능도의 차이는 무엇일까요? (개념적인 차이, 수식에서의 차이, 확률밀도함수에서의 차이)</p>
</li>
<li><p>확률 대신 가능도를 사용하였을 때의 이점은 어떤 것이 있을까요?</p>
</li>
<li><p>다음의 code snippet은 어떤 확률분포를 나타내는 것일까요? 해당 확률분포에서 변수 theta가 의미할 수 있는 것은 무엇이 있을까요?</p>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">theta = np.arange(<span class="number">0</span>, <span class="number">1</span>, <span class="number">0.001</span>)</span><br><span class="line">p = theta ** <span class="number">3</span> * (<span class="number">1</span> - theta) ** <span class="number">7</span></span><br><span class="line">plt.plot(theta, p)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p>위의 코드를 보자</p>
<p>theta는 0-1 사이에서 0.001의 간격으로 값을 가진다</p>
<p>모든 theta의 합은 1로 이는 결국 확률이다</p>
<p>이번주말에 정리해야 될 것들</p>
<ol>
<li>다양한 확률밀도 함수에대한고찰 </li>
<li>확률과 가능도</li>
<li>가능도에서의 최대가능도 추정법</li>
<li>MLE의 적용 - 정규분포, 이항분포</li>
<li>gradient descent 수식전개</li>
<li>월요일날 발표 (기본적인 kaggle dataset)</li>
<li>back propagation 수식전개</li>
<li>pandas 정리</li>
<li>시각화 도구</li>
</ol>
<p>자 할게 많다</p>
<p>2,3,4의 내용은 피어세션에서 토론했던 내용을 바탕으로 정리해보면 될 듯 싶다</p>
<p>정리와 추가적인 지식들은 따로 category를 만들어 post하겠다</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-01-27T15:00:00.000Z" title="2020. 1. 28. 오전 12:00:00">2020-01-28</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-04-21T17:34:32.137Z" title="2021. 4. 22. 오전 2:34:32">2021-04-22</time></span><span class="level-item"><a class="link-muted" href="/categories/Boostcamp/">Boostcamp</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/01/28/2021-01-28-Boostcamp9/">Day9</a></h1><div class="content"><p>Day9 : 확률론 맛보기</p>
<h2 id="확률론"><a href="#확률론" class="headerlink" title="확률론"></a>확률론</h2><ul>
<li>딥러닝은 확률론 기반의 기계학습 이론에 바탕을 두고 있다.</li>
<li>손실함수의 작동원리가 데이터 공간을 확률, 통계적으로 해석</li>
<li>회귀분석에서 Loss function : L2 norm 예측오차의 분산을 최소화</li>
<li>Classification에서 Loss function : CrossEntropyLoss : 모델예측의 불확실성을 최소화 하는 방향</li>
</ul>
<p>이들의 Loss를 최소화 하기위해서는 측정하는법을 알아야함 : 이게 바로 확률론</p>
<h3 id="확률분포는-데이터의-초상화"><a href="#확률분포는-데이터의-초상화" class="headerlink" title="확률분포는 데이터의 초상화"></a>확률분포는 데이터의 초상화</h3><ul>
<li>데이터공간을 x*y라 표기하고 D는 이 데이터 공간에서 데이터를 추출하는 분포입니다</li>
</ul>
<p><img src="/assets/images/image-20210128121306817.png" alt="image-20210128121306817"></p>
<hr>
<h3 id="이산확률변수-vs-연속확률변수"><a href="#이산확률변수-vs-연속확률변수" class="headerlink" title="이산확률변수 vs 연속확률변수"></a>이산확률변수 vs 연속확률변수</h3><p>확률변수는 확률분포 D에 따라 이산형(discrete)와 연속형 (continous)확률변수로 구분하게 됩니다</p>
<p>데이터 공간이 아니라 확률변수의 종류에 초점</p>
<ol>
<li><p>이산형 확률변수</p>
<p>확률변수가 가질수있는 모든 경우의수를     모두 고려하여 확률을 모두 더해서 모델링한다</p>
<p><img src="/assets/images/image-20210128122214116.png" alt="image-20210128122214116"></p>
</li>
<li><p>연속형 확률변수</p>
<p>연속형 확률변수는 데이터 공간에 정의된 확률변수의 밀도(density)위에서의 적분을 통해 모델링한다</p>
</li>
</ol>
<p><img src="/assets/images/image-20210128122332964.png" alt="image-20210128122332964"></p>
<hr>
<p>확률 분포에 따라 모델링 방법에 차이가있다</p>
<p>그래서 접근법이 달라야 한다</p>
<p>data를 기반으로 모델링 할때 전체 data X,Y 분포에서</p>
<p>P(x,y) -&gt; joint distribution</p>
<p><img src="/assets/images/image-20210128180319063.png" alt="image-20210128180319063"></p>
<p>각각의 빨간 칸들에 대해서 파란점들을 COUNT한다</p>
<p>전체를 보면 연속확률변수 같지만 나누어 주면 이산확률분포로 생각할수 있게됨</p>
<p>확률 분포 D는 모르기 때문에 주어진 data의 결합분포로 원래 확률분포 D를 modeling 할 수 있다.</p>
<p>원래 확률분포의 D에 따라 P(x,y)의 분포가 결정되는게 아니라!!!!</p>
<p>원래 확률분포에 상관없이 결합분포는 무엇이든 될 수 있다.</p>
<p>이건 즉 modeling 방식에 따라 결정이 되는 것이다</p>
<p>이렇게 하는이유는</p>
<p>원래의 확률분포와 다르더라도 컴퓨터는 이에 근사를 시킬 수 있기때문에</p>
<p><img src="/assets/images/image-20210128183045896.png" alt="image-20210128183045896"></p>
<p>P(x)는 입력 x에 대한 주변확률분포로 y에 대한 정보를 주지는 않는다</p>
<p>x에 대해서 덧셈이나 적분하면 y에대한 주변확률분포를 구할 수 있다.</p>
<p>지금다루는 확률분포에 관한 이야기는 작년 1학기에 들었던 확률변수론에서 자세하게 다루었다</p>
<p>물론 focus가 전전은 조금 다르지만 학문의 기초적인 base는 비슷하기 때문에 한번 봐야겠다</p>
<p>조건분 y = 1일때만 counting 해주어 각각의 x값에 대한 확률분포</p>
<p>이게 바로 조건부 확률분포</p>
<p><img src="/assets/images/image-20210128183344307.png" alt="image-20210128183344307"></p>
<p>  이건 입력x에 대한 y의 관계를 나타낼 수 있다.</p>
<h3 id="조건부확률과-기계학습"><a href="#조건부확률과-기계학습" class="headerlink" title="조건부확률과 기계학습"></a>조건부확률과 기계학습</h3><p>조건부 화률 P(y|x)는 입력변수 x에 대한 정답이 y일 확률</p>
<p>연속 확률분포일때는 확률이 아니라 밀도임</p>
<ul>
<li><p>logistic regression에서 사용했던 선형모델과 softmax의 결합은 데이터에서 추출된 패턴을 기반으로 확률을 해석</p>
</li>
<li><p>분류문제에서 softmax(W$\phi$ + b)는 데이터 x로부터 추출된 특징패턴 $\phi$ (x)와 가중치 W를 통해 조건부 확률 P(y|x)를 계산한다 회귀문제의 경우 밀도함수라 조건부기대값 E[y|x]를 추정합니다</p>
</li>
</ul>
<p>조건부 확률밀도 함수에 <img src="/assets/images/image-20210128184402041.png" alt="image-20210128184402041"> 연속이라 적분 이산확률분포면 sum의 형태로</p>
<p>조건부 기댓값은 L2-norm을 최소화 하는 함수와 일치한다!!!! -&gt; 이건 이미 증명이 되어있는것 (증명과정이 필요할까?)</p>
<p><strong>예측의 오차의 분산을 최소화하는</strong>  -&gt; 조건부 기댓값</p>
<p>항상은 아니지만 사용함</p>
<h3 id="Expectation"><a href="#Expectation" class="headerlink" title="Expectation"></a>Expectation</h3><p>데이터를 대표하는 통계량</p>
<p>다른 통계적 함수를 사용하는데 이용하는 기댓값</p>
<p>학교에서 배웠던 수식과 여기서의 수식을 비교해보자</p>
<p><img src="/assets/images/image-20210128185740672.png" alt="image-20210128185740672"></p>
<p> 연속확률변수 : 밀도함수</p>
<p>이산확률 : 질량함수</p>
<p>딥러닝은 다층신경망을 사용하여 데이터로부터 특징패턴을 추출합니다</p>
<p>이특징 패턴을 학습하기 위해 어떤 손실함수를 사용할지는 기계학습의 문제와 모델에 의해 결정된다</p>
<h3 id="Montecarlo-Sampling"><a href="#Montecarlo-Sampling" class="headerlink" title="Montecarlo Sampling"></a>Montecarlo Sampling</h3><p>이건 강화학습에서 매우 많이 써보았다</p>
<p>확률분포를 명시적으로 모를때에는 데이터를 이용하여 기대값을 계산</p>
<p>몬테카를로 샘플링 방법을 사용해야한다</p>
<p>몬테카를로 예제</p>
<p>구간의 길이가 2이므로 적분값을 2로나누면 결국 기댓값을 계산하는것이므로 몬테카를로 사용</p>
<p>문제는 샘플사이즈가 많아야 오차범위가 줄어든다</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-01-26T15:00:00.000Z" title="2020. 1. 27. 오전 12:00:00">2020-01-27</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-04-21T17:34:19.119Z" title="2021. 4. 22. 오전 2:34:19">2021-04-22</time></span><span class="level-item"><a class="link-muted" href="/categories/Boostcamp/">Boostcamp</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/01/27/2021-01-27-Boostcamp8/">Day8</a></h1><div class="content"><h1 id="pandas"><a href="#pandas" class="headerlink" title="pandas"></a>pandas</h1><ul>
<li>구조화된 데이터의 처리를 지원하는 파이썬 라이브러리</li>
<li>panel data -&gt; pandas</li>
<li><img src="../assets/images/image-20210127101201171.png" alt="image-20210127101201171"></li>
</ul>
<p>가로줄은 instance, row</p>
<p>data table은 모든 data가 담겨 있는 sample</p>
<p>column은 각각의 feature이름들, data.columns하면 이름들을 각각 지정해 줄 수 있음</p>
<p>feature vector, 각 feature에 해당하는 vector</p>
<p>data는 각각의 값</p>
<p>head는 앞에 5개 출력</p>
<p><img src="../assets/images/image-20210209141045542.png" alt="image-20210209141045542"></p>
<p>data_url지정 후 , pd.readcsv(data_url, sep=’\s+’, header = None)</p>
<p>header설정시 초기화시 column을 같이 초기화 해줄수 있음</p>
<p>이렇게 read_csv를로 읽어오면 type은 numpy임 </p>
<h2 id="Series"><a href="#Series" class="headerlink" title="Series"></a>Series</h2><p>Column에 해당하는 데이터의 모음 </p>
<p><img src="../assets/images/image-20210127104359781.png" alt="image-20210127104359781"></p>
<p>index값이 있다</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas</span><br><span class="line">list_data = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">list_name = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;e&#x27;</span>]</span><br><span class="line"><span class="comment">#기존 데이터를 접근하는 인덱싱이 숫자나 문자로 지정을 할 수 있다</span></span><br><span class="line">example_obj = Series(data=list_data)</span><br><span class="line">example_obj</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">0    1</span></span><br><span class="line"><span class="string">1    2</span></span><br><span class="line"><span class="string">2    3</span></span><br><span class="line"><span class="string">3    4</span></span><br><span class="line"><span class="string">4    5</span></span><br><span class="line"><span class="string">dtype: int64</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">example_obj = Series(data=list_data,index =list_name )</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">a    1</span></span><br><span class="line"><span class="string">b    2</span></span><br><span class="line"><span class="string">c    3</span></span><br><span class="line"><span class="string">d    4</span></span><br><span class="line"><span class="string">e    5</span></span><br><span class="line"><span class="string">dtype: int64</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>subclass of ndarray</li>
<li>dict타입을 series에 넣어주면, key값들이 index value는 value로 matching되어 생성됨</li>
<li>Series에 inedx로 접근할때 dict와 비슷하게 접근한다</li>
<li>astype으로 type변환 가능</li>
<li>Series.name = ‘number’라고 해서 series의 이름을 지정 가능</li>
<li>index.name도 지정가능</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">dict_data_1 = &#123;<span class="string">&quot;a&quot;</span>: <span class="number">1</span>, <span class="string">&quot;b&quot;</span>: <span class="number">2</span>, <span class="string">&quot;c&quot;</span>: <span class="number">3</span>, <span class="string">&quot;d&quot;</span>: <span class="number">4</span>, <span class="string">&quot;e&quot;</span>: <span class="number">5</span>&#125;</span><br><span class="line">indexes = [<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;d&quot;</span>, <span class="string">&quot;e&quot;</span>, <span class="string">&quot;f&quot;</span>, <span class="string">&quot;g&quot;</span>, <span class="string">&quot;h&quot;</span>]</span><br><span class="line">series_obj_1 = Series(dict_data_1, index=indexes)</span><br><span class="line">series_obj_1</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">a    1.0</span></span><br><span class="line"><span class="string">b    2.0</span></span><br><span class="line"><span class="string">c    3.0</span></span><br><span class="line"><span class="string">d    4.0</span></span><br><span class="line"><span class="string">e    5.0</span></span><br><span class="line"><span class="string">f    NaN</span></span><br><span class="line"><span class="string">g    NaN</span></span><br><span class="line"><span class="string">h    NaN</span></span><br><span class="line"><span class="string">dtype: float64</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>



<h2 id="Data-Frame"><a href="#Data-Frame" class="headerlink" title="Data Frame"></a>Data Frame</h2><p>Series data가 모여서 하나의 Data Frame을 이룸</p>
<p>여기서는 Column도 가능</p>
<p>접근 자체를 index와 columns로 함(행렬처럼 접근가능)</p>
<p>각 Colunm들은 type이 달라도 됨</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> Series, DataFrame</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment">#Example from - https://chrisalbon.com/python/pandas_map_values_to_values.html</span></span><br><span class="line">raw_data = &#123;</span><br><span class="line">    <span class="string">&quot;first_name&quot;</span>: [<span class="string">&quot;Jason&quot;</span>, <span class="string">&quot;Molly&quot;</span>, <span class="string">&quot;Tina&quot;</span>, <span class="string">&quot;Jake&quot;</span>, <span class="string">&quot;Amy&quot;</span>],</span><br><span class="line">    <span class="string">&quot;last_name&quot;</span>: [<span class="string">&quot;Miller&quot;</span>, <span class="string">&quot;Jacobson&quot;</span>, <span class="string">&quot;Ali&quot;</span>, <span class="string">&quot;Milner&quot;</span>, <span class="string">&quot;Cooze&quot;</span>],</span><br><span class="line">    <span class="string">&quot;age&quot;</span>: [<span class="number">42</span>, <span class="number">52</span>, <span class="number">36</span>, <span class="number">24</span>, <span class="number">73</span>],</span><br><span class="line">    <span class="string">&quot;city&quot;</span>: [<span class="string">&quot;San Francisco&quot;</span>, <span class="string">&quot;Baltimore&quot;</span>, <span class="string">&quot;Miami&quot;</span>, <span class="string">&quot;Douglas&quot;</span>, <span class="string">&quot;Boston&quot;</span>],</span><br><span class="line">&#125;</span><br><span class="line">df = pd.DataFrame(raw_data, columns=[<span class="string">&quot;first_name&quot;</span>, <span class="string">&quot;last_name&quot;</span>, <span class="string">&quot;age&quot;</span>, <span class="string">&quot;city&quot;</span>])</span><br><span class="line">DataFrame(raw_data, columns=[<span class="string">&quot;age&quot;</span>, <span class="string">&quot;city&quot;</span>])</span><br><span class="line"></span><br><span class="line">df.first_name</span><br><span class="line">df[<span class="string">&#x27;first_name&#x27;</span>]</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">0    Jason</span></span><br><span class="line"><span class="string">1    Molly</span></span><br><span class="line"><span class="string">2     Tina</span></span><br><span class="line"><span class="string">3     Jake</span></span><br><span class="line"><span class="string">4      Amy</span></span><br><span class="line"><span class="string">Name: first_name, dtype: object</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment">#이렇게 dataframe내의 series에 접근 가능</span></span><br><span class="line">df.loc[<span class="number">1</span>]</span><br><span class="line"><span class="comment"># index의 값을 넣어줘서 행을 불러옴(index의 이름)</span></span><br><span class="line">df.iloc[:<span class="number">3</span>]</span><br><span class="line"><span class="comment">#index의 number</span></span><br><span class="line">s = pd.Series(np.nan, index=[<span class="number">49</span>, <span class="number">48</span>, <span class="number">47</span>, <span class="number">46</span>, <span class="number">45</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line">s.loc[:<span class="number">3</span>]</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">49   NaN</span></span><br><span class="line"><span class="string">48   NaN</span></span><br><span class="line"><span class="string">47   NaN</span></span><br><span class="line"><span class="string">46   NaN</span></span><br><span class="line"><span class="string">45   NaN</span></span><br><span class="line"><span class="string">1    NaN</span></span><br><span class="line"><span class="string">2    NaN</span></span><br><span class="line"><span class="string">3    NaN</span></span><br><span class="line"><span class="string">dtype: float64</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment">#3이라는 이름을 가진 index까지만 뽑음</span></span><br><span class="line">df.debt = df.age&gt;<span class="number">40</span></span><br><span class="line"><span class="comment">#boolean 값을 가진 series 주가 가능</span></span><br><span class="line">df.T</span><br><span class="line"><span class="comment">#Transpose</span></span><br><span class="line">df.values</span><br><span class="line"><span class="comment">#array 형태로 출력해줌</span></span><br><span class="line">df.to_csv()</span><br><span class="line"><span class="comment"># csv파일로 저장가능</span></span><br></pre></td></tr></table></figure>



<ul>
<li>column을 삭제함</li>
<li>axis = 1 -&gt; column기준으로 debt를 삭제</li>
<li>del 을 사용하면 삭제할수 있음</li>
<li>거의 csv파일이나 json data</li>
</ul>
<h3 id="Selection-with-column-names"><a href="#Selection-with-column-names" class="headerlink" title="Selection with column names"></a>Selection with column names</h3><p>1개 이상의 columns 추출</p>
<p>list꼴로 넣어주면 dataframe형태로 뽑힌다</p>
<p>fancy index, boolen index</p>
<h2 id="Map-apply-Lambda"><a href="#Map-apply-Lambda" class="headerlink" title="Map  apply Lambda"></a>Map  apply Lambda</h2><p><img src="/assets/images/image-20210209154731111.png" alt="image-20210209154731111"></p>
<p>map과 lambda를 사용하여 series data에 lambda함수를 적용해준다</p>
<p>여기서 map을 dict type으로 데이터를 교체하기도 함</p>
<p><img src="/assets/images/image-20210209154833697.png" alt="image-20210209154833697"></p>
<p>index는 그대로 s1을 따르고 dict에 key값에 해당하는 index에 value 값을 넣어준다 나머지는 Nan처리</p>
<h3 id="Series-dataframe"><a href="#Series-dataframe" class="headerlink" title="Series + dataframe"></a>Series + dataframe</h3><p>이것도 연산을 할 수 있다</p>
<p>덧셈시 add함수를 사용하여 axis를 잡아주어야 한다</p>
<p>그러면 broadcating이 일어난다</p>
<p><img src="/assets/images/image-20210209160249024.png" alt="image-20210209160249024"></p>
<p>이렇게 처리해주면 숫자로 학습을 해야하는 딥러닝 과정에서 문자열 데이터를 숫자값으로 바꾸어 주어 계산이 가능해진다. 위와같이 함수를 하나 정의해서 map으로 처리해주면 된다</p>
<p>또한 apply라는 함수로 각 column에 대해서 함수연산을 해 줄 수도 있다</p>
<p><img src="/assets/images/image-20210209163741281.png" alt="image-20210209163741281"></p>
<h1 id="pandas2"><a href="#pandas2" class="headerlink" title="pandas2"></a>pandas2</h1><br/>

<br/>

<h2 id="Groupby"><a href="#Groupby" class="headerlink" title="Groupby"></a>Groupby</h2><br/>

<ul>
<li>SQL groupby명령어와 같은</li>
<li>split -&gt; apply  -&gt; combine</li>
<li>과정을 거쳐 연산함</li>
</ul>
<p>기존의 data에서 먼저 같은 종류의 index가 같은 것 끼리 묶어서 계속 연산을 진행하는것  </p>
<p><img src="/assets/images/image-20210210132735749.png" alt="image-20210210132735749"></p>
<p><img src="/assets/images/image-20210210132916095.png" alt="image-20210210132916095"></p>
<p><code>df.groupby(&quot;Team&quot;)[&#39;Points&#39;].sum()</code></p>
<p>위연산 실행시 Team이라는 column기준으로 Pointsfmf 모두 더해서 모두 같은 team이 같은값을 가지는애들끼리 point를 모두 더한다</p>
<p>한개 이상의 column을 묶을 수 있음</p>
<ul>
<li>groupby의 결과(type은 series이다)로 묶인 series에 unstack을 하게 되면 dataframe으로 만들어줌</li>
<li>swaplevel()로 index의 level을 변경할 수 있음 ( 결과물만 바뀌어서 출력되는거지 , 원본은 바뀌지 X )</li>
<li>sort_index(level = 0)</li>
<li>sort_values()</li>
</ul>
<p><code>df.groupby([&quot;Team&quot;,&quot;Year&quot;])[&#39;Points&#39;].sum()</code></p>
<p>이결과로 여러 team과 year로 나누어진 index를 가진 series가 생성되는데</p>
<p>여기서 .sum(level) level값으로 index를 정해 연산을 취해 줄 수 있다.</p>
<br/>

<h2 id="Grouped"><a href="#Grouped" class="headerlink" title="Grouped"></a>Grouped</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">grouped = df.groupby(<span class="string">&quot;Team&quot;</span>)</span><br><span class="line"><span class="built_in">list</span>(grouped)</span><br><span class="line"><span class="comment">#grouped는 generator의 형태로 list를 취해주어야 값을 확인 가능</span></span><br><span class="line"><span class="comment">#해당하는 index를 기준으로 key:value 형태로 반환해서 저장해줌</span></span><br><span class="line"><span class="comment"># key는 해당하는 index value는 dataframe의 형태로 만들어 준다</span></span><br></pre></td></tr></table></figure>

<ul>
<li>추출된 group정보에는 세가지 유형의 apply가 가능함</li>
<li>Aggregation : 요약된 통계정보를 추출해 줌</li>
<li>Transformation : 해당 정보를 변환해줌</li>
<li>FIltration : 특정 정보를 제거 하여 보여주는 필터링 기능</li>
</ul>
<p><img src="/assets/images/image-20210210143424569.png" alt="image-20210210143424569"></p>
<p><img src="/assets/images/image-20210210143517215.png" alt="image-20210210143517215"></p>
<p><img src="/assets/images/image-20210210144427814.png" alt="image-20210210144427814"></p>
<p>개별데이터에 이걸 적용할 수 있음</p>
<p>데이터의 변환과정에서 많이 쓴다</p>
<p>groped된 상태에서 group별로 연산을 가능하게 해준다</p>
<p>df.groupby(“Team”).filter(lambda x : len(x) &gt;=3)</p>
<h1 id="딥러닝-학습방법"><a href="#딥러닝-학습방법" class="headerlink" title="딥러닝 학습방법"></a>딥러닝 학습방법</h1><h2 id="신경망"><a href="#신경망" class="headerlink" title="신경망"></a>신경망</h2><p><img src="/assets/images/image-20210128014201363.png" alt="image-20210128014201363"></p>
<p>각 행벡터인 o는 데이터 X와 가중치 W 그리고 biad항인 b의 합으로 표현된다</p>
<p>입력벡터인 X의 차원 = n x d </p>
<p>출력벡터인 O의 차원 = n x p</p>
<p>d개의 변수로 p개의 선형모델을 만들어 p개의 잠재변수를 설명</p>
<p>X를 O에 Mapping한다고 생각하면 편하다</p>
<p>행렬을 생각하는 방식에서 행렬을 하나의 data를 다른 domain으로 변환하는 operator라고 생각했을때의 개념을 사용한 것이다</p>
<h3 id="Softmax"><a href="#Softmax" class="headerlink" title="Softmax"></a>Softmax</h3><p><img src="/assets/images/image-20210128014556815.png" alt="image-20210128014556815"></p>
<p>출력 벡터 o에 exp를 취해주어 각 출력벡터에 대한 확률으로 나타내 준다</p>
<p>분류문제를 풀때 선형모델과 Softmax함수를 결합하여 예측한다</p>
<ul>
<li>신경망은 선형모델과 활성함수를 합성한 함수이다</li>
<li><img src="/assets/images/image-20210128014808824.png" alt="image-20210128014808824"></li>
</ul>
<p>X라는 입력 벡터들에 가중치를 곱해주고 bias를 더해주어 activation functiond을 적용 </p>
<p>위의 식은 2 layer의 가장 간단한 NN이다</p>
<h3 id="활성함수란"><a href="#활성함수란" class="headerlink" title="활성함수란?"></a>활성함수란?</h3><ul>
<li>흔히들 요즘에는 ReLU함수를 사용한다</li>
<li>활성함수를 쓰지 않으면 선형모델과 딥러닝은 차이가 없기 때문에 중요한 요소이다</li>
<li>ex) sigmoid, softmax, ReLU, tanh, </li>
</ul>
<p>다층 perceptron은 위의 H를 다시 다른 가중치에 곱하고 …. 이후의 과정을 반복한다</p>
<ul>
<li><strong>이론적으로는</strong> 2-layer 신경망으로도 함수를 근사할 수 있지만 층이 깊을수록 목적함수를 근사하는데 필요한 node의 숫자가 훨씬 빨리 줄어들어 효율적이다</li>
<li>층이 얇으면 wide한 신경망이 되어야 한다</li>
</ul>
<h2 id="역전파-수식전개"><a href="#역전파-수식전개" class="headerlink" title="역전파 수식전개"></a>역전파 수식전개</h2></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-01-25T15:00:00.000Z" title="2020. 1. 26. 오전 12:00:00">2020-01-26</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-04-21T17:34:11.291Z" title="2021. 4. 22. 오전 2:34:11">2021-04-22</time></span><span class="level-item"><a class="link-muted" href="/categories/Boostcamp/">Boostcamp</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/01/26/2021-01-26-Boostcamp7/">Day7</a></h1><div class="content"><p>Gradient관련</p>
<h1 id="경사하강법"><a href="#경사하강법" class="headerlink" title="경사하강법"></a>경사하강법</h1><p>경사 상습/경사하강법은 극값에 도달시 움직임을 멈춘다</p>
<h2 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h2><p>var = init</p>
<p>grad = gradient(var)</p>
<p>while (abs(grad)&gt;eps):</p>
<p>​    var = var - lr *grad</p>
<p>​    grad = gradiwnt(var)</p>
<p>학습률 lr 을 조절하여 속도를 조절</p>
<p>eps : 종료조건</p>
<p>lr은 다룰 때 조심히 다루자</p>
<p>grad함수가 미분값을 구해주고 var값에서 미분값을 빼주어 그값에서 미분값을 또구한다</p>
<p>이렇게 계속 업데이트</p>
<p>이번 강의 부터 수학 강의에서는 수식이 많으므로 PDF 파일에 수식을 필기한것으로 정리를 대체하겠다</p>
<p><img src="/assets/images/mai_04-01.JPG" alt="mai_04-01"></p>
<p><img src="/assets/images/mai_04-03.JPG" alt="mai_04-03"></p>
<p><img src="/assets/images/mai_04-04-1611676984516.JPG" alt="mai_04-04"></p>
<p><img src="/assets/images/mai_04-05.JPG" alt="mai_04-05"></p>
<p><img src="/assets/images/mai_04-06.JPG" alt="mai_04-06"></p>
<p><img src="/assets/images/mai_04-07.JPG" alt="mai_04-07"></p>
<p><img src="/assets/images/mai_04-08.JPG" alt="mai_04-08"></p>
<p><img src="/assets/images/mai_04-09.JPG" alt="mai_04-09"></p>
<p><img src="/assets/images/mai_04-10.JPG" alt="mai_04-10"></p>
<p><img src="/assets/images/mai_04-11.JPG" alt="mai_04-11"></p>
<p><img src="/assets/images/mai_04-12.JPG" alt="mai_04-12"></p>
<p><img src="/assets/images/mai_04-13.JPG" alt="mai_04-13"></p>
<p><img src="/assets/images/mai_04-17.JPG" alt="mai_04-17"></p>
<p><img src="/assets/images/mai_04-18.JPG" alt="mai_04-18"></p>
<p><img src="/assets/images/mai_04-19.JPG" alt="mai_04-19"></p>
<p><img src="/assets/images/mai_04-20.JPG" alt="mai_04-20"></p>
<p><img src="/assets/images/mai_04-21.JPG" alt="mai_04-21"></p>
<p><img src="/assets/images/mai_04-22.JPG" alt="mai_04-22"></p>
<p><img src="/assets/images/mai_04-23.JPG" alt="mai_04-23"></p>
<p><img src="/assets/images/mai_04-24.JPG" alt="mai_04-24"></p>
<p><img src="/assets/images/mai_04-25.JPG" alt="mai_04-25"></p>
<p><img src="/assets/images/mai_04-26.JPG" alt="mai_04-26"></p>
<p><img src="/assets/images/mai_04-27.JPG" alt="mai_04-27"></p>
<p><img src="/assets/images/mai_04-28.JPG" alt="mai_04-28"></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-01-24T15:00:00.000Z" title="2020. 1. 25. 오전 12:00:00">2020-01-25</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-04-21T17:34:03.584Z" title="2021. 4. 22. 오전 2:34:03">2021-04-22</time></span><span class="level-item"><a class="link-muted" href="/categories/Boostcamp/">Boostcamp</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/01/25/2021-01-25-Boostcamp6/">Day6</a></h1><div class="content"><p>Start</p>
<h1 id="Numpy"><a href="#Numpy" class="headerlink" title="Numpy"></a>Numpy</h1><ul>
<li><p>큰 matrix를 파이썬으로 표현하기 위해 사용</p>
</li>
<li><p>그리고 memory를 효율적으로 사용하기 위해</p>
</li>
<li><p>반복문 없이 데이터 배열처리를 지원함</p>
</li>
</ul>
<h2 id="ndarray"><a href="#ndarray" class="headerlink" title="ndarray"></a>ndarray</h2><p>import numpy as np</p>
<p>test_array = np.array([1,2,3,4],float)</p>
<p>ndarry 와 list 의 차이점 </p>
<ul>
<li><strong>numpy는 하나의 데이터 type만 배열에 들어갈수 있다</strong></li>
<li><strong>dynamic typing이 안됨</strong></li>
</ul>
<p>numpy는 차례대로 데이터가 바로 메모리에 할당되지만</p>
<p>python의 list는 주소값을 메모리에 저장하게 되어 2번을 거쳐서 값을 불러옴</p>
<img src="/assets/images/image-20210125115146658.png" alt="image-20210125115146658"  />



<p>따라서 값이 ndarray의 값이 같더라도 is 를 써보면 false가 나온다</p>
<p>list는 아님</p>
<h3 id="array의-rank"><a href="#array의-rank" class="headerlink" title="array의 rank"></a><strong>array의 rank</strong></h3><p>rank 0 : scalar</p>
<p>rank 1 : vector</p>
<p>rank 2 : matrix</p>
<p>rank 3 : 3- tensor</p>
<p>rank 4 : n-tensor</p>
<p>dtype : numpy는 </p>
<h3 id="nbytes"><a href="#nbytes" class="headerlink" title="nbytes"></a>nbytes</h3><p>ndarray의 object 메모리 크기를 반환함</p>
<h2 id="Shape"><a href="#Shape" class="headerlink" title="Shape"></a>Shape</h2><h3 id="reshape"><a href="#reshape" class="headerlink" title="reshape"></a>reshape</h3><p>Array의 shape 크기를 변경함, element의 갯수는 동일</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">test_matrix = [[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]]</span><br><span class="line">np.array(test_metrix).reshape(<span class="number">2</span>,<span class="number">4</span>)</span><br><span class="line">np.array(test_metrix).reshape(-<span class="number">1</span>,<span class="number">2</span>).shape</span><br><span class="line"><span class="comment"># (4,2)</span></span><br></pre></td></tr></table></figure>



<h3 id="flatten"><a href="#flatten" class="headerlink" title="flatten"></a>flatten</h3><p>다차원 array를 1차원 array로 변환</p>
<h3 id="Indexing"><a href="#Indexing" class="headerlink" title="Indexing"></a>Indexing</h3><p><strong>리스트와 달리 [0,0]과 같은 접근법을 허용한다</strong></p>
<h3 id="Slicing"><a href="#Slicing" class="headerlink" title="Slicing"></a>Slicing</h3><p>data를 접근 할 때 slicing을 굉장히 많이 쓴다</p>
<p>이건 많이 써봐서 ㄱㅊ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#건너 뛰는것도 씀</span></span><br><span class="line">arr[:,::<span class="number">2</span>]</span><br><span class="line"><span class="comment">#2칸씩 건너 뛰는</span></span><br></pre></td></tr></table></figure>



<h2 id="Creation-Function"><a href="#Creation-Function" class="headerlink" title="Creation Function"></a>Creation Function</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">np.arange(<span class="number">0</span>, <span class="number">10</span>, <span class="number">0.5</span>)</span><br><span class="line"><span class="comment">#array([0. , 0.5, 1. , 1.5, 2. , 2.5, 3. , 3.5, 4. , 4.5, 5. , 5.5, 6. ,6.5, 7. , 7.5, 8. , 8.5, 9. , 9.5])</span></span><br><span class="line"></span><br><span class="line">np.zeros(shape = (<span class="number">10</span>,),dtype =np.int8)</span><br><span class="line">np.empty(shape = (<span class="number">10</span>,),dtype =np.int8)</span><br><span class="line"><span class="comment">#empty함수는 memory에 빈공간이 잡힘 그안에는 쓰레기 값이 있음</span></span><br></pre></td></tr></table></figure>



<h3 id="identity"><a href="#identity" class="headerlink" title="identity"></a>identity</h3><p>단위행렬 (i행렬)을 생성함</p>
<h3 id="eye"><a href="#eye" class="headerlink" title="eye"></a>eye</h3><p>대각선이 1인행렬, k값의 시작 index 지정가능</p>
<h3 id="diag"><a href="#diag" class="headerlink" title="diag"></a>diag</h3><p>대각행렬 값을 추출함</p>
<h3 id="random-sampling"><a href="#random-sampling" class="headerlink" title="random sampling"></a>random sampling</h3><p>데이터 분포에 따른 sampling으로 array를 생성</p>
<ul>
<li>np.random</li>
</ul>
<h2 id="Operation-function"><a href="#Operation-function" class="headerlink" title="Operation function"></a>Operation function</h2><h3 id="Axis"><a href="#Axis" class="headerlink" title="Axis"></a>Axis</h3><p>기준이되는 dimension 축</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">test_array = np.arrange(<span class="number">1</span>,<span class="number">13</span>).reshape(<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">array([[ 1,  2,  3,  4],</span></span><br><span class="line"><span class="string">       [ 5,  6,  7,  8],</span></span><br><span class="line"><span class="string">       [ 9, 10, 11, 12]])</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">test_array.<span class="built_in">sum</span>(axis=<span class="number">1</span>)</span><br><span class="line"><span class="comment">#(array([10,26,42]))</span></span><br></pre></td></tr></table></figure>

<p><img src="/assets/images/image-20210125123301094.png" alt="image-20210125123301094"></p>
<h3 id="Concatenate"><a href="#Concatenate" class="headerlink" title="Concatenate"></a>Concatenate</h3><p><img src="/assets/images/image-20210125123536806.png" alt="image-20210125123536806"></p>
<ul>
<li>numpy array를 붙이는 함수</li>
<li>np.concatenate((a,b),axis = 0)</li>
<li>값을 붙일때 2개 함수 concatenate,hstack,vstack</li>
<li>맞춰서 축을 늘리고 싶은때 newaxis 사용</li>
</ul>
<p><img src="/assets/images/image-20210127220807298.png" alt="image-20210127220807298"></p>
<p>  이게 생각보다 익숙하지 않아서 연습이 좀 필요할듯 싶다</p>
<p>행렬의 dot product</p>
<ul>
<li>a.dot(test_b)</li>
</ul>
<p>Transpose</p>
<ul>
<li>test_a.T</li>
</ul>
<h2 id="Broadcasting"><a href="#Broadcasting" class="headerlink" title="Broadcasting"></a><strong>Broadcasting</strong></h2><p>(element wise operation : array의 shape이 같아서 각각 연산)</p>
<p>Broadcasting은 크기가 shape이 다를때 알아서 퍼져서 연산이 일어남</p>
<p><img src="/assets/images/image-20210125125446603.png" alt="image-20210125125446603"></p>
<p>요런느낌</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">test_matrix = np.arange(<span class="number">1</span>, <span class="number">13</span>).reshape(<span class="number">4</span>, <span class="number">3</span>)</span><br><span class="line">test_vector = np.arange(<span class="number">10</span>, <span class="number">40</span>, <span class="number">10</span>)</span><br><span class="line">array([<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>])</span><br><span class="line"></span><br><span class="line">test_vector.reshape(-<span class="number">1</span>, <span class="number">3</span>).T + test_vector</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">array([[20, 30, 40],</span></span><br><span class="line"><span class="string">       [30, 40, 50],</span></span><br><span class="line"><span class="string">       [40, 50, 60]])</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 이런 계산도 가능함</span></span><br></pre></td></tr></table></figure>







<h2 id="Numpy-performance"><a href="#Numpy-performance" class="headerlink" title="Numpy performance"></a>Numpy performance</h2><ul>
<li>연산의 속도는 list보다 훨씬 크다 (dynamic typing을 포기한 결과)</li>
<li>하지만 할당에서는 연산속도의 이점이 없음</li>
</ul>
<h2 id="Comparison"><a href="#Comparison" class="headerlink" title="Comparison"></a>Comparison</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arrange(<span class="number">10</span>)</span><br><span class="line">a&lt;<span class="number">4</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">array([ True,  True,  True,  True, False, False, False, False, False,</span></span><br><span class="line"><span class="string">       False])</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">np.<span class="built_in">any</span>(a&gt;<span class="number">5</span>)</span><br><span class="line"><span class="comment"># 하나라도 true면 전체가 True다</span></span><br><span class="line">np.<span class="built_in">all</span>(a&gt;<span class="number">5</span>)</span><br><span class="line"><span class="comment">#하나라도 false면 전체가 false이다</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#numpy 배열간의 shape이 동일할때는 element간의 크기를 비교</span></span><br><span class="line"></span><br><span class="line">np.logical_and(a&gt;<span class="number">0</span>,a&lt;<span class="number">3</span>)</span><br><span class="line"><span class="comment">#조건의 and</span></span><br><span class="line">np.logical_not(b)</span><br><span class="line">np.logical_or(a&gt;<span class="number">0</span>,a&lt;<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># np.where</span></span><br><span class="line">np.where(a &gt; <span class="number">5</span>)</span><br><span class="line"><span class="comment">#(array([6, 7, 8, 9], dtype=int64),</span></span><br><span class="line">np.where(a&gt;<span class="number">5</span>,<span class="number">3</span>,<span class="number">2</span>)</span><br><span class="line"><span class="comment"># array([2, 2, 2, 2, 2, 2, 3, 3, 3, 3])</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># argmax : 가장 큰값의 index 반환, argmin : 가장 작은값의 index반환</span></span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>])</span><br><span class="line">a.argmax(axis = <span class="number">0</span>)</span><br></pre></td></tr></table></figure>



<h3 id="Boolean-Index"><a href="#Boolean-Index" class="headerlink" title="Boolean Index"></a>Boolean Index</h3><p>index에 조건을 넣어주어 조건을 만족하는 해당하는 값만 뽑아옴</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">10</span>)</span><br><span class="line">condition = a&gt;<span class="number">5</span></span><br><span class="line">a[condition]</span><br><span class="line"><span class="comment"># array([6, 7, 8, 9])</span></span><br></pre></td></tr></table></figure>



<h3 id="Fancy-index"><a href="#Fancy-index" class="headerlink" title="Fancy index"></a>Fancy index</h3><p>index값을 넣어줌</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>], <span class="built_in">float</span>)</span><br><span class="line">cond1 = np.array([<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">3</span>])</span><br><span class="line">cond2 = np.array([<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>])</span><br><span class="line">a.take(cond1)</span><br><span class="line"><span class="comment">#array([4., 4., 4., 6., 4., 4., 4., 8.])</span></span><br><span class="line">a[cond]</span><br><span class="line"><span class="comment">#array([4., 4., 4., 6., 4., 4., 4., 8.])</span></span><br><span class="line"><span class="comment">#다차원 리스트에 적용</span></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],[<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">2</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],[<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>]])</span><br><span class="line">a[cond1,cond2]</span><br><span class="line"><span class="comment">#array([4, 4, 4, 0, 4, 4, 4, 2])</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h1 id="Vector"><a href="#Vector" class="headerlink" title="Vector"></a>Vector</h1><h2 id="What-is-vector"><a href="#What-is-vector" class="headerlink" title="What is vector"></a>What is vector</h2><ul>
<li>벡터는 숫자를 원소로 가지는 리스트 또는 배열 </li>
<li>공간에서 한점을 나타낸다 (원점으로 부터 상대적 위치)</li>
</ul>
<h3 id="Hadamard-product-element-product"><a href="#Hadamard-product-element-product" class="headerlink" title="Hadamard product (element product)"></a>Hadamard product (element product)</h3><p>성분곱이란 같은 shape에서의 각 element끼리의 곱</p>
<h2 id="Vector의-덧셈-amp-뺄셈"><a href="#Vector의-덧셈-amp-뺄셈" class="headerlink" title="Vector의 덧셈 &amp; 뺄셈"></a>Vector의 덧셈 &amp; 뺄셈</h2><p>원점으로 부터가 아닌 다른 벡터로 부터 상대적 위치이동</p>
<p>뺄셈은 방향을 뒤집은 덧셈</p>
<h2 id="벡터의-norm"><a href="#벡터의-norm" class="headerlink" title="벡터의 norm"></a>벡터의 norm</h2><ul>
<li>어떠한 벡터의 원점에서부터의 거리</li>
<li>기호 밑 표현</li>
</ul>
<p><img src="/assets/images/image-20210125135342040.png" alt="image-20210125135342040"></p>
<p>norm은 임의의 차원 d에서 성립</p>
<h3 id="L1-norm"><a href="#L1-norm" class="headerlink" title="L1 norm"></a>L1 norm</h3><p>각성분의 변화량의 절대값</p>
<p>좌표명면에서 각좌표축을 따라 이동하는 거리의 합 :<img src="/assets/images/image-20210125135452387.png" alt="image-20210125135452387"></p>
<h3 id="L2-norm"><a href="#L2-norm" class="headerlink" title="L2 norm"></a>L2 norm</h3><p>**피타고라스 정리를 이용해 유클리드 거리를 계산 ** : <img src="../assets/images/image-20210125135531702.png" alt="image-20210125135531702"></p>
<h3 id="왜-다른-norm을-사용하나"><a href="#왜-다른-norm을-사용하나" class="headerlink" title="왜 다른 norm을 사용하나?"></a>왜 다른 norm을 사용하나?</h3><ul>
<li><strong>norm의 종류에 따라 기하학적 성질들이 달라진다</strong></li>
<li><img src="../assets/images/image-20210125135800188.png" alt="image-20210125135800188"></li>
</ul>
<p>원의 정의 : 원점에서 부터 거리가 r 인 점들의 집합</p>
<p><strong>norm을 사용하여 두벡터 사이의 거리를 구하자</strong></p>
<p>L1 norm을 사용하여 구한 벡터사이의 거리</p>
<p>L2 norm을 사용하여 구한 벡터사이의 각도</p>
<h1 id="행렬"><a href="#행렬" class="headerlink" title="행렬"></a>행렬</h1><p>행렬이란 행벡터를 원소로 가지는 이차원 배열</p>
<h3 id="전치행렬"><a href="#전치행렬" class="headerlink" title="전치행렬"></a>전치행렬</h3><p><img src="/assets/images/image-20210125163639790.png" alt="image-20210125163639790"></p>
<h3 id="행렬의-이해"><a href="#행렬의-이해" class="headerlink" title="행렬의 이해"></a>행렬의 이해</h3><p>벡터가 공간에서 한점을 의미한다면 행렬은 여러점들을 나타낸다</p>
<p>행렬의 행벡터 x<del>i</del> 는 i번째 data를 의미한다</p>
<p>x<del>ij</del>는 x번째 data의 j 번째 변수를 의미</p>
<h3 id="행렬의-곱셈"><a href="#행렬의-곱셈" class="headerlink" title="행렬의 곱셈"></a>행렬의 곱셈</h3><p>i번째 행벡터와 j 번째 열벡터의 내적을 성분으로 가지는 행렬을 계산한다</p>
<p><img src="../assets/images/image-20210125165526235.png" alt="image-20210125165526235"></p>
<p>numpy에서는 @ 연산을 활용한다</p>
<h3 id="행렬도-내적이-있을까"><a href="#행렬도-내적이-있을까" class="headerlink" title="행렬도 내적이 있을까"></a>행렬도 내적이 있을까</h3><p>넘파이의 np.inner은 i번째 행벡터와 j째 행벡터 사이의 내적을 성분으로 가지는 행렬을 계산</p>
<p>수학에서 말하는 내적과 는 다른개념이다</p>
<p>행렬의 내적은 보통 두 행렬사이의 trace를 계산하게 되는데</p>
<p>numpy는 다르다</p>
<p><img src="../assets/images/image-20210125171208255.png" alt="image-20210125171208255"></p>
<p>이렇게 transpose와의 행렬곱셈이 numpy에서의 innerproduct이다</p>
<h3 id="행렬의-이해-2"><a href="#행렬의-이해-2" class="headerlink" title="행렬의 이해 2"></a>행렬의 이해 2</h3><p>행렬은 벡터공간에서 사용되는 연산자(operator)로 이해한다</p>
<p><strong>서로다른 data를 연결시키는 연산자</strong></p>
<p>m차원 공간의 점인 x와 , n차원 공간의 점인 z를 연결해줄때</p>
<img src="/assets/images/image-20210125174742158.png" alt="image-20210125174742158" style="zoom:67%;" />

<p>x라는 벡터에 A라는 행렬과 곱해주게 되면 새로운 Z라는 열벡터가 나온다</p>
<p>mapping하는 연산자!!</p>
<p><strong>주어진 data에서 pattern을 추출하거나 data압축이 가능하다!!!!!</strong></p>
<p>행렬을 사용하는 연산자 -&gt; Linear Transform(선형변환)</p>
<h3 id="역행렬"><a href="#역행렬" class="headerlink" title="역행렬"></a>역행렬</h3><p>행과 열의 숫자가 같고 det가 0이 아니여야 한다</p>
<p>np.linalg.inv(x) 를 사용하여 </p>
<p>주어진 행렬의 행의 갯수가 열의 숫자보다 많다면 -&gt; <img src="/assets/images/image-20210125180801162.png" alt="image-20210125180801162"></p>
<p><img src="/assets/images/image-20210125180837456.png" alt="image-20210125180837456"></p>
<p>주어진 행렬의 열의 갯수가 행의 갯수보다 많다면 -&gt;<img src="/assets/images/image-20210125180829401.png" alt="image-20210125180829401"></p>
<p> 유사역행렬을 사용하여 해중 1개를 계산</p>
<h3 id="선형회귀-분석-Linear-regression"><a href="#선형회귀-분석-Linear-regression" class="headerlink" title="선형회귀 분석 (Linear regression)"></a>선형회귀 분석 (Linear regression)</h3><p>만약 변수의 갯수보다 식의 갯수가 많은경우 -&gt;  선형회귀로 푼다</p>
<p>유사역행렬을 구해서 선형회귀 방정식을 구한다</p>
<p>여러개의 점을 행렬로 표현후 계수벡터인 β를 곱해주게 되면 하나의 선으로 표현된다</p>
<p>어떠한 β를 쓸까를 구하는 -&gt; 선형회귀 분석</p>
<p>미지수가 더 많기 때문에 해를 찾는것은 불가능 </p>
<p>따라서 최대한 가까운 선을 찾는다 -&gt; L2 norm을 사용하여</p>
<p><img src="/assets/images/image-20210125182128448.png" alt="image-20210125182128448"></p>
<p>이 계수를 구하기 위해서는</p>
<p> <img src="../assets/images/image-20210125182317163.png" alt="image-20210125182317163"></p>
<p>2가지의 방법이 있다. 이때 Moore-Penrose로 구하려면 y절편값을 추가해주어야 한다.</p>
<p>공부를 마치고 궁금한게 너무 많았다</p>
<p>특히 선형대수학 파트에서 이다</p>
<p>무어펜로즈 역행렬을 이용하여 해를 하나  구하는 과정에서</p>
<p><img src="/assets/images/image-20210125183743570.png" alt="image-20210125183743570"></p>
<p>이렇게 나와있는데</p>
<p>A가 R^n*m^ 인 차원에서 n은 식의 갯수 m은 미지수의 갯수</p>
<p>m이 n보다 크기 때문에 <img src="/assets/images/image-20210125180837456.png" alt="image-20210125180837456"> 이 조건을 보면 왼쪽에 곱해주어야 항등행렬이 된다</p>
<p>근데 AxA+가 x가 될수있나?</p>
<p>x가 벡터라 자리를 바꿔 곱해도 되는건가</p>
<p>무어 펜로즈를 다시한번 자세히 보면 조건이 생성되는 이유는</p>
<p>n과 m이 다를때  AA^T^ 와 A^T^A 중 하나는 역행렬이 존재하지 않는다</p>
<p>이 조건이 바로 m&lt;n이면 AA^T^ 의 역행렬이 존재하지 않고, m&gt;n이면 A^T^A의 역행렬이 존재하지 않는다</p>
<p>따라서 유사역행렬이 조건에 따라 저렇게 표현되는건 알겠는데</p>
<p>A+A나 AA+ 를 해주었을때 차원이 다르게 나올뿐이지 이게 진짜 I 가 하나는 안나오나? 컴퓨터로 돌려봐야겠다</p>
<p>그리고 뒤에 linear regression 부분도 너무 간단하게 알려주셔서 중요한 파트인데 더 따로 알아봐야겠다.</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-01-21T15:00:00.000Z" title="2020. 1. 22. 오전 12:00:00">2020-01-22</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-04-21T17:33:58.348Z" title="2021. 4. 22. 오전 2:33:58">2021-04-22</time></span><span class="level-item"><a class="link-muted" href="/categories/Boostcamp/">Boostcamp</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/01/22/2021-01-22-Boostcamp5/">Day5</a></h1><div class="content"><h1 id="Exception-amp-File-amp-Log-Handling"><a href="#Exception-amp-File-amp-Log-Handling" class="headerlink" title="Exception &amp; File &amp;Log Handling"></a>Exception &amp; File &amp;Log Handling</h1><h2 id="Exception-Handling"><a href="#Exception-Handling" class="headerlink" title="Exception Handling"></a>Exception Handling</h2><ul>
<li>프로그램 사용시에는 예상치못한 예외가 생김</li>
</ul>
<h3 id="예상이-가능한-예외"><a href="#예상이-가능한-예외" class="headerlink" title="예상이 가능한 예외"></a>예상이 가능한 예외</h3><ul>
<li>발생여부를 사전에 인지하여 </li>
<li>개발자가 명시적으로 처리해주어야 함</li>
</ul>
<h3 id="예상이-불가능한-예외"><a href="#예상이-불가능한-예외" class="headerlink" title="예상이 불가능한 예외"></a>예상이 불가능한 예외</h3><ul>
<li>인터프리터 과정에서 일어나는 예외</li>
<li>수행불가시 인터프리터가 자동호출</li>
</ul>
<h3 id="예외처리"><a href="#예외처리" class="headerlink" title="예외처리"></a>예외처리</h3><p>—&gt; Exception Handling</p>
<h3 id="Try-except-문법"><a href="#Try-except-문법" class="headerlink" title="Try except 문법"></a>Try except 문법</h3><p>ex) 0으로 나눌떄 exception 발생</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    예외발생 코드</span><br><span class="line"><span class="keyword">except</span> &lt;<span class="built_in">type</span>&gt;:</span><br><span class="line">    예외발생시 대처하는 코드</span><br><span class="line">    </span><br><span class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="number">10</span> / i)</span><br><span class="line">        <span class="built_in">print</span>(a[i])</span><br><span class="line">    <span class="keyword">except</span> ZeroDivisionError:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Not divided by 0&quot;</span>)</span><br><span class="line">    <span class="keyword">except</span> IndexError <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(e)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;hey&#x27;</span>)</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;wow&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; </span></span><br><span class="line"><span class="string">Not divided by 0</span></span><br><span class="line"><span class="string">10.0</span></span><br><span class="line"><span class="string">5.0</span></span><br><span class="line"><span class="string">3.3333333333333335</span></span><br><span class="line"><span class="string">2.5</span></span><br><span class="line"><span class="string">2.0</span></span><br><span class="line"><span class="string">1.6666666666666667</span></span><br><span class="line"><span class="string">1.4285714285714286</span></span><br><span class="line"><span class="string">1.25</span></span><br><span class="line"><span class="string">1.1111111111111112</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<p>되도록이면 exception을 명확하게 잡아 가독성을 높혀라</p>
<ul>
<li>else 구문을 사용할시 예외가 발생하지 않을시 실행</li>
<li>finally 예외 발생여부와 상관없게 항상 실행되는 구문을 추가</li>
</ul>
<h3 id="Raise-구문"><a href="#Raise-구문" class="headerlink" title="Raise 구문"></a>Raise 구문</h3><ul>
<li>필요에 따라 강제로 exception을 발생</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    value = <span class="built_in">input</span>(<span class="string">&quot;변환할 정수 값을 입력해주세요&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> digit <span class="keyword">in</span> value:</span><br><span class="line">        <span class="keyword">if</span> digit <span class="keyword">not</span> <span class="keyword">in</span> <span class="string">&quot;0123456789&quot;</span>:</span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">&quot;숫자값을 입력하지 않으셨습니다&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;정수값으로 변환된 숫자 -&quot;</span>, <span class="built_in">int</span>(value))</span><br></pre></td></tr></table></figure>



<h3 id="Assert-구문"><a href="#Assert-구문" class="headerlink" title="Assert 구문"></a>Assert 구문</h3><p>사전에 사용자에게 특정조건이 맞는지 조건을 넣어주고 False일때 error를 발생시켜줌</p>
<p>assert isinstance(decimal_number, int)</p>
<h2 id="File-Handling"><a href="#File-Handling" class="headerlink" title="File Handling"></a>File Handling</h2><h3 id="파일의-종류"><a href="#파일의-종류" class="headerlink" title="파일의 종류"></a>파일의 종류</h3><ul>
<li>기본적인 파일종류로 text file, binary file로 나뉨</li>
<li>컴퓨터는 text file을 처리하기 위해 binary로 변환시킴</li>
</ul>
<p><strong>Binary file</strong></p>
<p>이진법을로 나타내져 있음</p>
<p>메모장으로 열면 깨짐</p>
<p>엑셀파일 워드파일 등등</p>
<p><strong>Text file</strong></p>
<p>인간도 이해가능한 문자열로 이루어짐</p>
<p>메모장으로 열면 확인 가능</p>
<h3 id="Python-File-I-O"><a href="#Python-File-I-O" class="headerlink" title="Python File I/O"></a>Python File I/O</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;같은 폴더의 파일&quot;</span>, <span class="string">&quot;r&quot;</span>)</span><br><span class="line"></span><br><span class="line">contents = f.read()</span><br></pre></td></tr></table></figure>

<p>r : 읽기 모드</p>
<p>w : 쓰기 모드</p>
<p>a : 추가 모드</p>
<p><strong>with 구문과 함께 사용하기</strong></p>
<p>인덴테이션이 일어나는 동안에는 with줄의 코드가 다 적용이됨</p>
<p>인덴테이션이 종료가 되면 close가 됨</p>
<p>로그를 남겨야할 필요가 있음</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;i_have_a_dream.txt&quot;</span>,<span class="string">&quot;r&quot;</span>)</span><br><span class="line">contents = f.read()</span><br><span class="line"><span class="built_in">print</span>(contents)</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>



<h3 id="Logging-모듈"><a href="#Logging-모듈" class="headerlink" title="Logging 모듈"></a>Logging 모듈</h3><p>print문이랑 비슷</p>
<h1 id="Python-data-handling"><a href="#Python-data-handling" class="headerlink" title="Python data handling"></a>Python data handling</h1><ul>
<li>CSV- </li>
<li>웹(html)</li>
<li>xml</li>
<li>json</li>
</ul>
<h2 id="CSV-Comma-Separate-Value"><a href="#CSV-Comma-Separate-Value" class="headerlink" title="CSV(Comma Separate Value)"></a>CSV(Comma Separate Value)</h2><ul>
<li>엑셀 양식의 데이터를 프로그램에 상관없이 쓰기 위한 데이터 형식이라고 생각하면 쉬움</li>
<li>TSV,SSV등으로 구분해서 만들기도 함</li>
</ul>
<p>notepad로도 열 수 있고, 쉼표로 구분이 되어있다.</p>
<p><img src="/assets/images/image-20210208144442565.png" alt="image-20210208144442565"></p>
<p>위에서 data_header라는게 있다.</p>
<p>여기에는 데이터의 필드가 담겨있ㅇ며 데이터 저장시 ,로 분리를 하는 코드이다</p>
<p>첫번째 data는 무조건 data의 필드이다 ex) data,index이런 느낌으로 카테고리이다</p>
<p>따라서 첫줄이라면 ,로 나누어서 data_header라는 리스트에 저장해준다</p>
<p>이후 줄부터는 ,로 나누어서 한줄씩 리스트에 저장해준다</p>
<br/>

<ul>
<li><p>text파일 형태로 데이터 처리시 문장내에 들어가있는 “,” 등에 대해 전처리 과정이 필요하다</p>
</li>
<li><p>파이썬에서는 간단히 CSV파일을 처리하기 위해 csv객체를 제공함</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line">reader = csv.reader(f, delimiter = <span class="string">&#x27;,&#x27;</span>, quotechar = <span class="string">&#x27;&quot;&#x27;</span>,quoting = csv.QUOTE_ALL)</span><br></pre></td></tr></table></figure>

<ul>
<li>delimiter : 글자를 나누는 기준 (default : ‘,’ ) </li>
<li>lineterminator : 중바꿈기준 (default : \r\n)</li>
<li>quotechar : 문자열을 둘러싸는 신호 문자 (default : “ )</li>
<li>quoting : 데이터를 나누는 기준이 quotechar에 의해 둘러싸인 라벨</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line">seoung_nam_data = []</span><br><span class="line">header = []</span><br><span class="line">rownum = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;korea_floating_population_data.csv&quot;</span>,<span class="string">&quot;r&quot;</span>, encoding=<span class="string">&quot;cp949&quot;</span>) <span class="keyword">as</span> p_file:</span><br><span class="line">    csv_data = csv.reader(p_file) <span class="comment">#csv 객체를 이용해서 csv_data 읽기</span></span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> csv_data:	 <span class="comment">#읽어온 데이터를  한 줄씩 처리</span></span><br><span class="line">        <span class="keyword">if</span> rownum == <span class="number">0</span>:</span><br><span class="line">            header = row <span class="comment">#첫 번째 줄은 데이터 필드로 따로 저장</span></span><br><span class="line">        location = row[<span class="number">7</span>]</span><br><span class="line">        <span class="comment">#“행정구역”필드 데이터 추출, 한글 처리로 유니코드 데이터를 cp949로 변환</span></span><br><span class="line">        <span class="keyword">if</span> location.find(<span class="string">u&quot;성남시&quot;</span>) != -<span class="number">1</span>:</span><br><span class="line">            seoung_nam_data.append(row)</span><br><span class="line">        <span class="comment">#”행정구역” 데이터에 성남시가 들어가 있으면 seoung_nam_data List에 추가</span></span><br><span class="line">        rownum +=<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;seoung_nam_floating_population_data.csv&quot;</span>,<span class="string">&quot;w&quot;</span>, encoding=<span class="string">&quot;utf8&quot;</span>) <span class="keyword">as</span> s_p_file:</span><br><span class="line">    writer = csv.writer(s_p_file, delimiter=<span class="string">&#x27;\t&#x27;</span>, quotechar=<span class="string">&quot;&#x27;&quot;</span>, quoting=csv.QUOTE_ALL)</span><br><span class="line">    <span class="comment"># csv.writer를 사용해서 csv 파일 만들기 delimiter 필드 구분자</span></span><br><span class="line">    <span class="comment"># quotechar는 필드 각 데이터는 묶는 문자, quoting는 묶는 범위</span></span><br><span class="line">    writer.writerow(header)		 <span class="comment">#제목 필드 파일에 쓰기</span></span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> seoung_nam_data:</span><br><span class="line">        writer.writerow(row)	 <span class="comment">#seoung_nam_data에 있는 정보 list에 쓰기</span></span><br></pre></td></tr></table></figure>

<p>위는 유동인구 데이터중 성남의 데이터만을 수집하는 코드이다</p>
<p>window에서 관리되는 코드는 cp949이다</p>
<p>vscode는 utf8이기 떄문에 encoding을 바꾸어 주어햐 한다</p>
<p>따라서 읽을 때 cp949로 읽는다고 별도로 지정한다</p>
<p>encoding은 cp949, </p>
<p>utf8로 왠만하면 저장하기 왠만하면 작은 ‘ 이걸로 나누고</p>
<p>보통 csv는 다른도구를 사용하기 때문에 지금은 이거에 집착할 필요가 없다 왠만하면 pandas를 사용하기 때문에</p>
<h2 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h2><ul>
<li>데이터 송수신을 위한 HTTP 프로토콜 사용</li>
<li>데이터 표시를 위한 HTML 형식 사용</li>
</ul>
<h3 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h3><ul>
<li>HTML의 모든 요소들은 꺾쇠 괄호안에 둘러 쌓여 있음</li>
<li>모든 HTML은 트리모양의 포함관계를 가짐</li>
</ul>
<p><strong>왜 HTML을 알아야 하는가?</strong></p>
<ul>
<li><p>HTML도 일종의 프로그램으로, 규칙을 분석하여 데이터의 추출이 가능하다</p>
</li>
<li><p>추출된 데이터를 바탕으로 하여 다양한 분석이 가능</p>
</li>
</ul>
<h3 id="Regular-Expression"><a href="#Regular-Expression" class="headerlink" title="Regular Expression"></a>Regular Expression</h3><ul>
<li>정규 표현식</li>
<li>복잡한 문자열 패턴을 정의하는 문자 표현 공식</li>
<li>특정한 규칙을 가진 문자열의 집합</li>
</ul>
<ul>
<li>HTML역시 tag를 사용한 일정한 형식이 존재하기 때문에 정규식으로 추출하기가 편함</li>
<li>문법이 방대하여 그떄 그때 검색이 필요</li>
<li>기본적인것만 일단 숙지하자</li>
</ul>
<h2 id="XML"><a href="#XML" class="headerlink" title="XML"></a>XML</h2><ul>
<li>데이터의 구조와 의미를 설명하는 tag를 사용하여 표시하는 언어(like html)</li>
<li>XML은 컴퓨터(PC &lt;-&gt; 스마트폰)간의 정보를 주고받기 매우 유용한 저장방식으로 쓰이고 있음</li>
<li>정규 표현식으로 Parsing이 가능함</li>
<li>그러나 가장 많이 쓰이는 parser인 beautifulsoup</li>
</ul>
<h3 id="BeautifulSoup"><a href="#BeautifulSoup" class="headerlink" title="BeautifulSoup"></a>BeautifulSoup</h3><ul>
<li>언어 Scraping을 위한 도구</li>
<li>느리지만 간편하다</li>
</ul>
<h2 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h2><ul>
<li>javaScript object Notation</li>
<li>웹언어인 Java Script의 데이터 객체 표현 방식</li>
<li>간결하다</li>
<li>데이터 용량이 적고 Code로 전환이 쉽다</li>
<li>따라서 XML을 대체하고 있다</li>
</ul>
<p><strong>Python의 DIct Type과 유사, Key:Value값으로 접근가능</strong></p>
<h3 id="Json-in-Python"><a href="#Json-in-Python" class="headerlink" title="Json in Python"></a>Json in Python</h3><p>대부분의 사이트에서 정보교환시 JSON을 사용한다</p>
<p>데이터 저장과 읽기는 dict type과 상호호환 가능</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-01-21T15:00:00.000Z" title="2020. 1. 22. 오전 12:00:00">2020-01-22</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-04-21T17:33:52.320Z" title="2021. 4. 22. 오전 2:33:52">2021-04-22</time></span><span class="level-item"><a class="link-muted" href="/categories/Boostcamp/">Boostcamp</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/01/22/2021-01-22-Boostcamp_week1/">Week-1</a></h1><div class="content"><p>BOOST camp의 첫주가 끝이 났다</p>
<p>정신없이 지내다 아침에 일어나서 오후까지 컴퓨터만 보다보니 5일이 지나갔다.</p>
<p>앞으로의 주말계획은 논문 1편과 1주일치 내용 복습이다</p>
<p>다음주에 발표인 프로젝트는 어찌될지 모르겠다. 열심히 해보려 했는데 생각보다 쉽지가 않네….</p>
<p>많은 사람들과 의견을 나누고 토론하는게 참 좋다.</p>
<p><strong>week 1 정리 시작</strong></p>
<h1 id="5-Variable"><a href="#5-Variable" class="headerlink" title="5. Variable"></a>5. Variable</h1><p>먼저 5강 Variable에서 새롭게 안 사실들이다</p>
<p>이 리스트의 복사,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">b = [<span class="number">5</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>]</span><br><span class="line">a = b</span><br></pre></td></tr></table></figure>

<p>위와 같이 코드를 했을때 b가 가르키는 메모리 주소를 a 가 가르키는 형태이다</p>
<p>원래 파이썬에서 이런 처리를 해주었을때 앝은 복사가 일어남을 알고있었다. </p>
<p>얕은 복사는 학교 객지프 시간에 배워서 개념은 알고있었다. 그때 프린터기기와 원본, 사본의 예시로 교수님께서 설명하셨던 것 같다.</p>
<p>파이썬에서도 C의 포인터와 비슷한 개념이 있는듯 하다. C에서의 얕은 복사또한 포인터가 같은 메모리를 가르킨다.</p>
<p>a가 독립적으로 b의 값을 가지게 하기 위해서 깊은복사나 아니면 b[:]이런식으로 해준다</p>
<h1 id="6-Function-and-Console-I-O"><a href="#6-Function-and-Console-I-O" class="headerlink" title="6. Function and Console I/O"></a>6. Function and Console I/O</h1><p>여기서는 f - string을 얻어가자</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&#x27;cho&#x27;</span></span><br><span class="line">age = <span class="number">24</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;hello my name is <span class="subst">&#123;name&#125;</span> and I&#x27;m <span class="subst">&#123;age&#125;</span> years old&quot;</span>)</span><br><span class="line"><span class="comment"># hello my name is cho and I&#x27;m 24 years old</span></span><br></pre></td></tr></table></figure>

<p>이걸 잴 많이쓴다고 한다. </p>
<p>나도 원래는 format을 많이 썼었는데 이참에 f-string을 써봐야 겠다</p>
<h1 id="8-String-and-advanced-function-concept"><a href="#8-String-and-advanced-function-concept" class="headerlink" title="8. String and advanced function concept"></a>8. String and advanced function concept</h1><p>문자열 함수중에 좀 익숙하지 않은것들</p>
<ul>
<li>a.titile()</li>
<li>a.startswith</li>
<li>a.endswith</li>
<li>a.isdigit()</li>
</ul>
<p>큰따옴표 선언이후 작은따옴표 사용 or back slash \</p>
<p>2줄 이상저장법 : ‘’’ 3번사용</p>
<p>지역변수와 전역변수의 개념을 파이썬에서 알아보았다</p>
<p>global을 붙히면 함수내부에서 전역변수를 사용가능</p>
<p><strong>이부분 function type hint는 잘 사용하지 않던거라 잊고있었다. 다시 remind 필요</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">type_hint_example</span>(<span class="params">name:<span class="built_in">str</span></span>)-&gt;<span class="built_in">str</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">f&quot;Hello, <span class="subst">&#123;name&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line">type_hint_example(<span class="string">&#x27;cho&#x27;</span>)</span><br></pre></td></tr></table></figure>



<p>이렇게 사용자가 타입을 알수있도록 (var:파라메터 타입) -&gt;리턴타입을 표시</p>
<p><strong>그리고 함수의 설명을 위한 docstring</strong></p>
<p>세개의 따옴표로 docstring 영역표시(함수명 아래)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_binary</span>(<span class="params">a,b</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    여기에 docstring을 작성</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    대충 작성해보면</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    Returns the sum of two decimal numbers</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    	</span></span><br><span class="line"><span class="string">    	Parameters:</span></span><br><span class="line"><span class="string">    			a(int) : A decimal integer</span></span><br><span class="line"><span class="string">    			b(int) : Another decimal integer</span></span><br><span class="line"><span class="string">    	Returns :</span></span><br><span class="line"><span class="string">    			binary_sum(str)</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    이런느낌으로 parameter과 리턴값들 함수의 역할을 작성해준다</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<p>이제까지 남들이 보는 코드라고 생각안하고 이런걸 몰랐었다</p>
<br/>

<br/>

<ul>
<li>dynamic typing으로 인해 함수의 interface를 알기 힘들기 때문에 아래와 같이 type hint를 줄수 있다</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">do_function</span>(<span class="params">var_name: var_type</span>) -&gt; return_type:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<ul>
<li>사용자에게 명확하게 알려줄 수 있다.</li>
<li>mypy또는 IDE,linter등을 통해 코드의 발생가능한 오류를 사전에 확인</li>
<li>시스템의 전체적인 안정성</li>
</ul>
<br/>

<p>함수작성 가이드 라인</p>
<ul>
<li><p>함수는 가능하지만 짧게 여러개를 만든다</p>
</li>
<li><p>함수 이름에 함수의 역할, 의도가 명확히 들어낼 것</p>
</li>
<li><p>하나의 함수에는 유사한 역할을 하는 코드만 포함</p>
</li>
<li><p>인자로 받은 값 자체를 바꾸진 말고 복사로 처리를 해서 다루어 주자</p>
<br/></li>
</ul>
<p><strong>Coding Convention</strong></p>
<p>일반적으로 4space를 권장함</p>
<p>한줄은 79자까지</p>
<p>연산자는 1칸이상 안 띄움</p>
<p>주석은 항상 갱신</p>
<p>코드의 마지막에는 한줄 추가</p>
<p>소문자 엘 대문자 오 대문자 아이사용금지</p>
<p>기준 : flack8 모듈로 체크</p>
<h1 id="9-Data-structure"><a href="#9-Data-structure" class="headerlink" title="9. Data structure"></a>9. Data structure</h1><p>여기서는 namedtuple만 짚고 넘어가자</p>
<p>named tuple이란 Tuple의 형태로 data의 variable들을 사전에 지정해서 저장한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> namedtuple</span><br><span class="line"></span><br><span class="line"><span class="comment"># Basic example</span></span><br><span class="line">Point = namedtuple(<span class="string">&#x27;Point&#x27;</span>, [<span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;y&#x27;</span>])</span><br><span class="line"><span class="comment">#객체의 이름을 적어주고 뒤에 variable의 이름을 적어줌</span></span><br><span class="line">p = Point(<span class="number">11</span>, y=<span class="number">22</span>)</span><br><span class="line"><span class="built_in">print</span>(p[<span class="number">0</span>] + p[<span class="number">1</span>])</span><br></pre></td></tr></table></figure>







<h1 id="10-Pythonic-Code"><a href="#10-Pythonic-Code" class="headerlink" title="10. Pythonic Code"></a>10. Pythonic Code</h1><p>이부분 Pythonic Code가 상당히 생소했다</p>
<p>이부분을 잘 짚고 넘어가야 추후 코드를 볼때 다시 인터넷을 뒤지거나 자료를 찾아보는 일이 없을것 같다</p>
<p>그리고 이걸 잘하면 간지나고 있어보임</p>
<p>List comprehension에서 주의해야 할점은</p>
<ol>
<li>이차원 리스트</li>
<li>FIlter</li>
</ol>
<p>이차원 리스트를 보면</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">case1 = [<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>]</span><br><span class="line">case2 = [<span class="string">&#x27;D&#x27;</span>,<span class="string">&#x27;E&#x27;</span>,<span class="string">&#x27;F&#x27;</span>]</span><br><span class="line">result = [i+j <span class="keyword">for</span> i <span class="keyword">in</span> case1 <span class="keyword">for</span> j <span class="keyword">in</span> case2]</span><br><span class="line"><span class="comment"># [&#x27;AD&#x27;,&#x27;AE&#x27;,&#x27;AA&#x27;,&#x27;BD&#x27;,&#x27;BE&#x27;,&#x27;BA&#x27;,&#x27;CD&#x27;,&#x27;CE&#x27;,&#x27;CA&#x27;]</span></span><br><span class="line">result = [[i+j <span class="keyword">for</span> i <span class="keyword">in</span> case1] <span class="keyword">for</span> j <span class="keyword">in</span> case2]</span><br><span class="line"><span class="comment"># [[&#x27;AD&#x27;, &#x27;BD&#x27;, &#x27;CD&#x27;], [&#x27;AE&#x27;, &#x27;BE&#x27;, &#x27;CE&#x27;], [&#x27;AA&#x27;, &#x27;BA&#x27;, &#x27;CA&#x27;]]</span></span><br></pre></td></tr></table></figure>



<p>그리고 enumerate와 zip은 정말 많이 쓰이니 다시한번</p>
<p>index와 요소들을 tuple로 묶어 반환해줌</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;i:j <span class="keyword">for</span> i,j <span class="keyword">in</span> <span class="built_in">enumerate</span>(<span class="string">&#x27;hello my name is cho&#x27;</span>.split())&#125;</span><br></pre></td></tr></table></figure>

<p>이 코드가 좀 함축적으로 나타내고 있지 편한 기능들을</p>
<ul>
<li>zip : 2개이상의 list에서 하나씩 추출해서 tuple 형태로 리턴해줌 </li>
<li>map 함수는 iterable한 객체 (반복가능한 타입)과 함수를 주어 반환값들을 하나하나 계산해서 묶어줌, 근데 이후에 list든 뭐든 변환이 필요</li>
</ul>
<p>또 map함수는 iteration을 생성하기 때문에 generator로</p>
<p>자 이제 진짜 중요한데 몰랐던거</p>
<p><strong>iter 과 next함수</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>]:</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure>

<p> 이런 반복문에서 내부적으로 __iter__과  __next__가 사용된다</p>
<p>iterable한 객체에 next와 iter함수를 적용시켜 보자</p>
<p>iter을 사용하면 </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cities = [<span class="string">&quot;Seoul&quot;</span>, <span class="string">&quot;Busan&quot;</span>, <span class="string">&quot;Jeju&quot;</span>]</span><br><span class="line">iter_obj= <span class="built_in">iter</span>(cities)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(iter_obj))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(iter_obj))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(iter_obj))</span><br><span class="line"><span class="built_in">next</span>(iter_obj)</span><br></pre></td></tr></table></figure>



<p><strong>Generator</strong></p>
<p>iterable object의 특수한 형태</p>
<p>얘가 여기에 저장되어있대, 이것만 알고 호출시에 메모리에 올라감</p>
<p><strong>yield</strong>를 쓰면 한번에 하나의 element <strong>return</strong> 리턴임 yeild는</p>
<p>메모리의 주소값만 가지고있다가 yield가 던져줌</p>
<p><strong>제너레이터를 쓰는경우</strong></p>
<ul>
<li>list형태의 데이터를 반환해주는 함수</li>
<li>데이터의 크기가 매우커서 쓸때, 호출할때만 그걸 메모리에 올려서 사용하는 경우</li>
</ul>
<p>아래 코드의 차이를 알아보자</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">x = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line">y = (j <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> x:</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> x:</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line">    </span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> y:</span><br><span class="line">    <span class="built_in">print</span>(j)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> y:</span><br><span class="line">    <span class="built_in">print</span>(j)</span><br><span class="line">    </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">0</span></span><br><span class="line"><span class="string">1</span></span><br><span class="line"><span class="string">2</span></span><br><span class="line"><span class="string">3</span></span><br><span class="line"><span class="string">4</span></span><br><span class="line"><span class="string">0</span></span><br><span class="line"><span class="string">1</span></span><br><span class="line"><span class="string">2</span></span><br><span class="line"><span class="string">3</span></span><br><span class="line"><span class="string">4</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">0</span></span><br><span class="line"><span class="string">1</span></span><br><span class="line"><span class="string">2</span></span><br><span class="line"><span class="string">3</span></span><br><span class="line"><span class="string">4</span></span><br><span class="line"><span class="string">보면 list로 만들어준 x는 2번 for문을 실핼했을때 모두 출력이 되었는데</span></span><br><span class="line"><span class="string">generator로 만들어준 y는 첫번째 for 문은 출력이 되는데 두번째 for문은 출력이 안된다</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<br/>

<h2 id="Module-and-Project"><a href="#Module-and-Project" class="headerlink" title="Module and Project"></a>Module and Project</h2><br/>

<p>여기서 좀 생소한데 중요한 개념인 package가 나온다</p>
<ul>
<li>하나의 대형 프로젝트를 만드는 코드의 묶음</li>
<li>다양한 모듈들의 합, 폴더로 연결됨</li>
<li>__init__, main등 키워드 파일명이 사용됨</li>
<li>다양한 오픈소스들이 package로 관리가 된다</li>
</ul>
<br/>

<p><strong>__init__</strong> </p>
<p>현재 폴더가 패키지임을 알리는 초기화 스크립트</p>
<p>없을 경우 패키지로 간주하지 않음</p>
<p>하위폴더와 py파일을 모두 포함함</p>
<p>import 와 all을 사용한다</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">__all__ = [<span class="string">&#x27;image&#x27;</span>, <span class="string">&#x27;sound&#x27;</span>, <span class="string">&#x27;stage&#x27;</span>]</span><br><span class="line"><span class="keyword">from</span> . <span class="keyword">import</span> image</span><br><span class="line"><span class="keyword">from</span> . <span class="keyword">import</span> sound</span><br><span class="line"><span class="keyword">from</span> . <span class="keyword">import</span> stage</span><br></pre></td></tr></table></figure>

<p>이런느낌으로 현재사용할</p>
<p><br/><br/></p>
<p><strong>__main__</strong> </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sound <span class="keyword">import</span> echo</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;main&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;hello game&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(echo.echo_play())</span><br><span class="line"><span class="comment">#이런 파일로다가 </span></span><br></pre></td></tr></table></figure>

<p>from game.graphic.render impoer render_test()</p>
<p>from .render import render_test()</p>
<ul>
<li> 현재 디렉토리 기준</li>
</ul>
<p>from ..sound.echo</p>
<p>..2개면 상위 디렉토리로 가자</p>
<p><br/><br/></p>
<h2 id="File-Exeption-Log-Handling"><a href="#File-Exeption-Log-Handling" class="headerlink" title="File/Exeption/Log Handling"></a>File/Exeption/Log Handling</h2><p><br/><br/></p>
<ol>
<li>예상불가능한 예외</li>
<li>인터프리터 과정에서 발생하는 예외, 개발자 실수</li>
<li>리스트의 범위를 넘어가는 값 호출, 정수 0으로 나눔</li>
<li>수행 불가시 인터프리터가 자동 호출</li>
</ol>
<p>예상이 불가능 한 예외 발생시 exception handling의 대처가 필요하다</p>
<br/>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    예외 발생 가능 코드</span><br><span class="line"><span class="keyword">except</span> &lt;Exception <span class="type">Type</span>&gt;:</span><br><span class="line">    예외 발생시 대응되는 코드</span><br><span class="line">    </span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="number">10</span>/i)</span><br><span class="line">    <span class="keyword">except</span> ZeroDivisionError:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Not divided by 0&quot;</span>)</span><br><span class="line">    <span class="keyword">except</span> IndexError <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(e)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(e)</span><br><span class="line">    <span class="comment">#일반적으로 전체를 Exception으로 잡는거는 좋지 않다</span></span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="built_in">print</span>(i,<span class="string">&#x27;-----&#x27;</span>)</span><br><span class="line">        </span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    value = <span class="built_in">input</span></span><br><span class="line">    <span class="keyword">for</span> difit <span class="keyword">in</span> value:</span><br><span class="line">        <span class="keyword">if</span> digit <span class="keyword">not</span> <span class="keyword">in</span> <span class="string">&#x27;0123456789&#x27;</span>:</span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">&#x27;숫자가 아닙니다&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;정수=&#x27;</span>,<span class="built_in">int</span>(value))</span><br><span class="line"><span class="comment"># raise 구문 사용시 무조건 error를 발생시킨다</span></span><br><span class="line"><span class="comment"># assert isinstance(decimal_number, int)</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>파이썬에서는 try except구문을 권장한다</p>
<h3 id="Python-File-I-O"><a href="#Python-File-I-O" class="headerlink" title="Python File I/O"></a>Python File I/O</h3><p>read() txt 파일 안에 있는 내용을 문자열로 반환</p>
<p>f = open(‘i_have_a_dream.txt’,’r’)</p>
<p>contents = f.read()</p>
<p>여기서 f는 주소를 가지고 있는거임</p>
<p>print(contents)</p>
<p>f.close()</p>
<p>파이썬에서 with는 무엇인가를 사용후 반납해야 하는 경우 주로 사용이 된다</p>
<p>파일을 열고 닫을때 닫는걸 까먹을 수 있으니 파이썬의 with구문과 함께 사용한다</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;i_have_a_dream.txt&quot;</span>,<span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> my_file:</span><br><span class="line">    contents = my_file.read()</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">type</span>(contents),contents)</span><br></pre></td></tr></table></figure>

<p>with가 끝날때 자동으로 close해줌</p>
<p>indentation이 있을때는 with안의 영역이 계속 사용되고 끝나면 자동으로 반납하는 개념</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;i_have_a_dream.txt&quot;</span>,<span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    content_list = f.readlines() <span class="comment">#readlines 함수사용시 한줄씩 읽어옴</span></span><br><span class="line">    <span class="built_in">type</span>(content_list) <span class="comment">#list형태로 순차적으로 가져오기 때문에 list가 출력됨</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;i_have_a_dream.txt&quot;</span>,<span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">        line = f.readline() <span class="comment"># readlines가 아닌 readline을 쓰면 한줄만올림</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> line:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="built_in">str</span>(i) + <span class="string">&#x27;===&#x27;</span> + line.replace(<span class="string">&#x27;\n&#x27;</span>,<span class="string">&#x27;&#x27;</span>))</span><br><span class="line">        i+=<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>data가 너무커서 한번에 메모리에 올릴수 없다면 한줄씩 읽어서 해주고 싶은 작업을 해준다</p>
<p>encoding = ‘utf8’</p>
<p>이걸 이렇게 정해주어야지 헙업도 하고 그럼</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;i_have_a_dream.txt&quot;</span>,mode = <span class="string">&#x27;a&#x27;</span>, encoding) <span class="keyword">as</span> f:</span><br><span class="line"><span class="comment">#위와 같이 mode를 a 로 설정하면 쓰기 읽기 다 가능하다 </span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    os.mkdir(<span class="string">&#x27;abc&#x27;</span>) <span class="comment">#현제 디렉토리에 새로운 dir를 만든다</span></span><br><span class="line"><span class="keyword">except</span> FileExistsError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Already created&quot;</span>)</span><br><span class="line">os.path.isfile(file.ipynb)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><img src="/assets/images/image-20210207172325227.png" alt="image-20210207172325227"></p>
<p>위와 같은 예제를 반드시 확인해 보자</p>
<p>먼저 if not os.path.isdir을 사용하면 현재 dir에 log라는 dir이있는지 확인한다</p>
<p>그이후 log안에 count_log가 업다면</p>
<p>생성해주고 닫는다</p>
<p>with구문 시작시 log를 열어서 그위에 for문을 순회하며 count_log에 문장을 추가한다</p>
<h3 id="Pickle"><a href="#Pickle" class="headerlink" title="Pickle"></a>Pickle</h3><p>파이썬의 객체를 영속화하는 built in 객체</p>
<p>객체는 원래 memory에 있어야 한다 이 memory에 있는거를 이 객체를 실행중 정보를 저장하고 이후에 불러올때 사용한다</p>
<p>객체는 원래 interpreter가 끝날때 같이 사라지기 떄문에 이를 저장할 수 있는 pickle을 사용하는 것이다</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;list.pickle&quot;</span>, <span class="string">&quot;wb&quot;</span>) <span class="comment"># pickle은 binary 파일이라 wb</span></span><br><span class="line">test = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">pickle.dump(test,f)</span><br><span class="line">f.close()</span><br><span class="line"></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;list.pickle&quot;</span>,<span class="string">&#x27;rb&#x27;</span>)</span><br><span class="line">test_pickle = pickle.load(f)</span><br><span class="line">test_pickle</span><br><span class="line">f.close()</span><br><span class="line"><span class="comment">#이러면 pickle을 불러와서 이전의 test값을 프로그램 종료후에도 읽어올 수 있다</span></span><br></pre></td></tr></table></figure>





<h3 id="Logging"><a href="#Logging" class="headerlink" title="Logging"></a>Logging</h3><p>레벨별로 기록을 남길 필요가있음</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line">logging.debug(<span class="string">&quot;틀렸자나&quot;</span>) <span class="comment">#debugging</span></span><br><span class="line">logging.info(<span class="string">&quot;확인해&quot;</span>) <span class="comment">#</span></span><br><span class="line">logging.warning(<span class="string">&quot;조심해&quot;</span>)</span><br><span class="line">logging.error(<span class="string">&quot;에러났어&quot;</span>)</span><br><span class="line">logging.critical(<span class="string">&quot;망했다&quot;</span>) <span class="comment">#프로그램이 완전히 의도치않게 종료가 되었을때</span></span><br></pre></td></tr></table></figure>

<p>개발시점,운영시점마다 다른 log가 남을 수 있도록 지원함</p>
<p>Debug/info/warning/error/critical</p>
<ol>
<li>debug : 개발시 기록을 남겨야 하는 로그 정보를 남김</li>
<li>Info : 처리가 진행되는 동안의 정보를 알림</li>
<li>warning : 사용자가 잘못 정보를 입력하거나 처리는 가능하나 개발시 의도치 않는 정보가 들어왔을때</li>
<li>error : 잘못된 처리로 인해 에러가 났으나, 프로그램 동작은 가능 할 때</li>
<li>critical : 잘못된 처리로 데이터 손실이나 더이상 프로그램이 동작할 수 없음을 알림</li>
</ol>
<p>위의 코드를 돌려보면 조심해,에러났어,망했다만 표시가 된다</p>
<p>그 이유는 logging level이 warning이상으로 setting이 되어있어서 이다</p>
<p>파이썬의 로깅레벨은 기본적으로 warning부터 이다</p>
<p><code>logging.basicConfig(level = logging.DEBUG)</code></p>
<p><code>steam_handler = logging.FileHandler(&#39;my.log&#39;,mode = &#39;w&#39;,encoding = &#39;utf8&#39;)</code></p>
<p><code>logger.addHandler(steam_handler)</code></p>
<p>이러한 코드 작성시 1. configparser 실행 설정을 파일에 저장 2. argparser 실행시점에</p>
<ol>
<li><p>configparser</p>
<p>프로그램의 실행 설정을 file에 저장함</p>
<p>section, key,value값의 형태로 설정된 파일을 사용</p>
<p>설정파일을 Dict Type으로 호출후 사용</p>
</li>
</ol>
<p><img src="/assets/images/image-20210207182037773.png" alt="image-20210207182037773"></p>
<p>configparser를 사용하여 불러오고</p>
<ol start="2">
<li><p>argparser</p>
<p>console 창에서 프로그램 실행시 setting정보를 저장함</p>
<p>comand-Line-Option이라고 많이부름</p>
<p><img src="assets/images/image-20210208142607134.png" alt="image-20210208142607134"></p>
<p><img src="/assets/images/image-20210207185134044.png" alt="image-20210207185134044"></p>
</li>
</ol>
<p>보통 cmd 창에서 명령어를 실행할 때 -나 –를 붙혀서 log파일을 실행한다</p>
<p>ex) ls –help</p>
<p>help하는 이름으로 실행을 시켜보아라 이런느낌 arg값을 넣어준다</p>
<p>보통 -한개는 짧을 때, –는 길때</p>
<p>parser.add_argument사용시 입력을 받아 args에 저장해준다</p>
<p>그때 지정해준 format인 -a면 a에 저장을 해주고</p>
<p>-b나 –b_value면 b에 저장해준다</p>
<p>사용자가 cmd창에서 실험을 할 수 있게 해준다</p>
<p>epoch값, lr값,momentum값,cuda여부등을 바로 실행시에 지정해줄수 있다.</p>
<br/>

<br/>

<h2 id="Python-data-handling"><a href="#Python-data-handling" class="headerlink" title="Python data handling"></a>Python data handling</h2><p>이부분에서 xml, json,csv파일들에 대한 개념을 정리하고 간다</p>
<p>정규식도 꼭 몰랐던 부분이니 짚고 넘어가자</p>
<br/>

<h3 id="Comma-Separate-Value"><a href="#Comma-Separate-Value" class="headerlink" title="Comma Separate Value"></a>Comma Separate Value</h3><ul>
<li>엑셀 양식의 데이터를 프로그램에 상관없이 쓰기 위한 데이터 형식이라고 생각하면 쉬움</li>
<li>TSV,SSV등으로 구분해서 만들기도 함</li>
</ul>
<p>notepad로도 열 수 있고, 쉼표로 구분이 되어있다.</p>
<p><img src="assets/images/image-20210208144442565.png" alt="image-20210208144442565"></p>
<p>위에서 data_header라는게 있다.</p>
<p>여기에는 데이터의 필드가 담겨있ㅇ며 데이터 저장시 ,로 분리를 하는 코드이다</p>
<p>첫번째 data는 무조건 data의 필드이다 ex) data,index이런 느낌으로 카테고리이다</p>
<p>따라서 첫줄이라면 ,로 나누어서 data_header라는 리스트에 저장해준다</p>
<p>이후 줄부터는 ,로 나누어서 한줄씩 리스트에 저장해준다</p>
<br/>

<ul>
<li><p>text파일 형태로 데이터 처리시 문장내에 들어가있는 “,” 등에 대해 전처리 과정이 필요하다</p>
</li>
<li><p>파이썬에서는 간단히 CSV파일을 처리하기 위해 csv객체를 제공함</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line">reader = csv.reader(f, delimiter = <span class="string">&#x27;,&#x27;</span>, quotechar = <span class="string">&#x27;&quot;&#x27;</span>,quoting = csv.QUOTE_ALL)</span><br></pre></td></tr></table></figure>

<ul>
<li>delimiter : 글자를 나누는 기준 (default : ‘,’ ) </li>
<li>lineterminator : 중바꿈기준 (default : \r\n)</li>
<li>quotechar : 문자열을 둘러싸는 신호 문자 (default : “ )</li>
<li>quoting : 데이터를 나누는 기준이 quotechar에 의해 둘러싸인 라벨</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line">seoung_nam_data = []</span><br><span class="line">header = []</span><br><span class="line">rownum = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;korea_floating_population_data.csv&quot;</span>,<span class="string">&quot;r&quot;</span>, encoding=<span class="string">&quot;cp949&quot;</span>) <span class="keyword">as</span> p_file:</span><br><span class="line">    csv_data = csv.reader(p_file) <span class="comment">#csv 객체를 이용해서 csv_data 읽기</span></span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> csv_data:	 <span class="comment">#읽어온 데이터를  한 줄씩 처리</span></span><br><span class="line">        <span class="keyword">if</span> rownum == <span class="number">0</span>:</span><br><span class="line">            header = row <span class="comment">#첫 번째 줄은 데이터 필드로 따로 저장</span></span><br><span class="line">        location = row[<span class="number">7</span>]</span><br><span class="line">        <span class="comment">#“행정구역”필드 데이터 추출, 한글 처리로 유니코드 데이터를 cp949로 변환</span></span><br><span class="line">        <span class="keyword">if</span> location.find(<span class="string">u&quot;성남시&quot;</span>) != -<span class="number">1</span>:</span><br><span class="line">            seoung_nam_data.append(row)</span><br><span class="line">        <span class="comment">#”행정구역” 데이터에 성남시가 들어가 있으면 seoung_nam_data List에 추가</span></span><br><span class="line">        rownum +=<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;seoung_nam_floating_population_data.csv&quot;</span>,<span class="string">&quot;w&quot;</span>, encoding=<span class="string">&quot;utf8&quot;</span>) <span class="keyword">as</span> s_p_file:</span><br><span class="line">    writer = csv.writer(s_p_file, delimiter=<span class="string">&#x27;\t&#x27;</span>, quotechar=<span class="string">&quot;&#x27;&quot;</span>, quoting=csv.QUOTE_ALL)</span><br><span class="line">    <span class="comment"># csv.writer를 사용해서 csv 파일 만들기 delimiter 필드 구분자</span></span><br><span class="line">    <span class="comment"># quotechar는 필드 각 데이터는 묶는 문자, quoting는 묶는 범위</span></span><br><span class="line">    writer.writerow(header)		 <span class="comment">#제목 필드 파일에 쓰기</span></span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> seoung_nam_data:</span><br><span class="line">        writer.writerow(row)	 <span class="comment">#seoung_nam_data에 있는 정보 list에 쓰기</span></span><br></pre></td></tr></table></figure>

<p>위는 유동인구 데이터중 성남의 데이터만을 수집하는 코드이다</p>
<p>window에서 관리되는 코드는 cp949이다</p>
<p>vscode는 utf8이기 떄문에 encoding을 바꾸어 주어햐 한다</p>
<p>따라서 읽을 때 cp949로 읽는다고 별도로 지정한다</p>
<p>encoding은 cp949, </p>
<p>utf8로 왠만하면 저장하기 왠만하면 작은 ‘ 이걸로 나누고</p>
<p>보통 csv는 다른도구를 사용하기 때문에 지금은 이거에 집착할 필요가 없다 왠만하면 pandas를 사용하기 때문에</p>
<h3 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h3><p>HTML</p>
<ul>
<li><p>제목, 단락, 링크 등 요소 표시를 위해 Tag를 사용</p>
</li>
<li><p>모든 요소들은 꺾쇠 괄호 안에 둘러 쌓여있음</p>
</li>
<li><p>&lt;title&gt; Hello, World &lt;/title&gt;</p>
</li>
<li><p>보통 HTML도 일종의 프로그램이기 떄문에 규칙을 분석하여 데이터의 추출이 가능하다</p>
</li>
<li><p>추출된 데이터를 바탕으로 하여 다양한 분석이 가능</p>
</li>
</ul>
<p>string, 정규식 (regex), beautifulSoup</p>
<h3 id="Refular-expression"><a href="#Refular-expression" class="headerlink" title="Refular expression"></a>Refular expression</h3><ul>
<li>복잡한 문자열 패턴을 정의하는 문자 표현 공식</li>
<li>특정한 규칙을 가진 문자열의 집합을 추출</li>
</ul>
<p>기본문법</p>
<p>문자클래스 [ ] : [와] 사이의 문자들과 매치라는 의미</p>
<p>ex) [abc] : 해당글자가 a,b,c중 하나가 있다</p>
<p>- : 범위를 지정가능</p>
<br/>

<p>정규식 표현을 위해 원래의미가 아닌 다른용도로 사용되는 문자들</p>
<p>. ^ $ * + ? { } [ ] : ( )</p>
<p>.은 전체를 의미한다</p>
<p>* 는 앞에있는글자를을 반복해서 나올 수 있음</p>
<p>+를 하게 되면 앞에 있는 글자를 최소 1회이상 반복</p>
<p>앞에있는글자를 최소한 1회 이상 반보기냐추배</p>
<p>{숫자} : 반복횟수를 지정해줄 수 있다</p>
<p>? : 반복횟수가 1회</p>
<p>| : or ex) (0|1){3}     0이나 1이 3번 반복 </p>
<p>정규식 추출 연습</p>
<ol>
<li>Expression부분을 수정해가면 Zip로 끝나는 파일명만 추출</li>
<li>Expression에 (http)(.+)(zip)</li>
</ol>
<p>정규식 in python</p>
<ul>
<li>re모듈을 import 하여 사용 : import re</li>
<li>함수 : search - 한개만 찾기, findall - 전체찾기</li>
<li>추출된 패턴은 tuple로 반환됨</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line">url= <span class="string">&quot;https://bit.ly/3rxQFS4&quot;</span></span><br><span class="line">html= urllib.request.urlopen(url)</span><br><span class="line">html_contents= <span class="built_in">str</span>(html.read())</span><br><span class="line">id_results= re.findall(<span class="string">r&quot;([A-Za-z0-9]+\*\*\*)&quot;</span>,html_contents)</span><br><span class="line"><span class="comment">#findall전체찾기, 패턴대로데이터찾기</span></span><br><span class="line"><span class="keyword">for</span> result <span class="keyword">in</span> id_results:</span><br><span class="line">    <span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure>

<p>urllib의 request한의 urlopen함수를 쓰면 해당 주소에 해당하는 cotents를 가져옴</p>
<p>findall로 해당패턴을 가진 모든 data를 찾아서 tuple의 형태로 list에 담기게됨</p>
<p>따라서 for loop으로 찍어내면 하나씩 나온다</p>
<h3 id="XML"><a href="#XML" class="headerlink" title="XML"></a>XML</h3><p>tag어ㅣ tag사이에 값이 표시되고 구조적인 정보를 표현할 수 있음</p>
<p>HTML과 문법이 비슷, 대표적인 데이터 저장방식</p>
<p>XML은 컴퓨터간의 정보를 주고받기 매우유용한 저장방식으로 쓰임</p>
<p>정규표현ㅅㄱ으로 Parsing이 가능함</p>
<p>가장많이 쓰이는 parser인 beautifulsoup</p>
<p>lxml과 html의 </p>
<p><img src="/assets/images/image-20210208181111553.png" alt="image-20210208181111553"></p>
<p> from bs4 import BeautifulSoup </p>
<p>soup = BeautifulSOup(book_xml,’lxml’)</p>
<p>soup.find_all(“author”)</p>
<p>tag를 찾는 함수 find_all</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;US08621662-20140107.XML&quot;</span>, <span class="string">&quot;r&quot;</span>, encoding=<span class="string">&quot;utf8&quot;</span>) <span class="keyword">as</span> patent_xml:</span><br><span class="line">    xml = patent_xml.read()  <span class="comment"># File을 String으로 읽어오기</span></span><br><span class="line"></span><br><span class="line">soup = BeautifulSoup(xml, <span class="string">&quot;xml&quot;</span>)  <span class="comment"># xml parser 호출</span></span><br><span class="line"></span><br><span class="line">invention_title_tag = soup.find(<span class="string">&quot;invention-title&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(invention_title_tag.get_text())</span><br><span class="line"></span><br><span class="line">publication_reference_tag = soup.find(<span class="string">&quot;publication-reference&quot;</span>)</span><br><span class="line">p_document_id_tag = publication_reference_tag.find(<span class="string">&quot;document-id&quot;</span>)</span><br><span class="line">p_country = p_document_id_tag.find(<span class="string">&quot;country&quot;</span>).get_text()</span><br><span class="line">p_doc_number = p_document_id_tag.find(<span class="string">&quot;doc-number&quot;</span>).get_text()</span><br><span class="line">p_kind = p_document_id_tag.find(<span class="string">&quot;kind&quot;</span>).get_text()</span><br><span class="line">p_date = p_document_id_tag.find(<span class="string">&quot;date&quot;</span>).get_text()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(p_doc_number, p_kind, p_date)</span><br><span class="line"></span><br><span class="line">application_reference_tag = soup.find(<span class="string">&quot;application-reference&quot;</span>)</span><br><span class="line">a_document_id_tag = publication_reference_tag.find(<span class="string">&quot;document-id&quot;</span>)</span><br><span class="line">a_country = p_document_id_tag.find(<span class="string">&quot;country&quot;</span>).get_text()</span><br><span class="line">a_doc_number = p_document_id_tag.find(<span class="string">&quot;doc-number&quot;</span>).get_text()</span><br><span class="line">a_date = p_document_id_tag.find(<span class="string">&quot;date&quot;</span>).get_text()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(a_country, a_doc_number, a_date)</span><br></pre></td></tr></table></figure>

<p>이중으로 tag가 쌓여있는 정보는 이중으로 코드도 작성해 주어야 한다</p>
<p>연습 ipg140107.xml분석</p>
<p>분할된 특허문서로 부터 특허의 등록번호,등록일자,출원번호등등을 뽑아 CSV파일로 만들어보자</p>
<h3 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h3><p>파이썬에서 json 모듈을 이용하여손쉽게 파싱 및 저장 가능</p>
<p>데이터 write와 read는 모두 dict 와 상호호환 가능</p>
<p>대부분 요즘은 json을 사용한다</p>
<p><img src="/assets/images/image-20210209135435503.png" alt="image-20210209135435503"></p>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/categories/Boostcamp/">Previous</a></div><div class="pagination-next"><a href="/categories/Boostcamp/page/3/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/categories/Boostcamp/">1</a></li><li><a class="pagination-link is-current" href="/categories/Boostcamp/page/2/">2</a></li><li><a class="pagination-link" href="/categories/Boostcamp/page/3/">3</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/profile.png" alt="Won Cho"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Won Cho</p><p class="is-size-6 is-block">결정장애 ESFP의 험난한 일지</p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">36</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">6</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">4</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="/" target="_self" rel="noopener">Home</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/jo-member"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Instagram" href="https://www.instagram.com/jo__member/"><i class="fab fa-instagram"></i></a></div></div></div><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Algorithm/"><span class="level-start"><span class="level-item">Algorithm</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/Boostcamp/"><span class="level-start"><span class="level-item">Boostcamp</span></span><span class="level-end"><span class="level-item tag">24</span></span></a></li><li><a class="level is-mobile" href="/categories/Further-Q/"><span class="level-start"><span class="level-item">Further_Q</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Mathmatics-for-ML/"><span class="level-start"><span class="level-item">Mathmatics_for_ML</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/PaperReview/"><span class="level-start"><span class="level-item">PaperReview</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/blog/"><span class="level-start"><span class="level-item">blog</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-02-02T15:00:00.000Z">2021-02-03</time></p><p class="title"><a href="/2021/02/03/2021-02-03-Boostcamp13.1/">Day13) CNN1</a></p><p class="categories"><a href="/categories/Boostcamp/">Boostcamp</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-02-01T15:00:00.000Z">2021-02-02</time></p><p class="title"><a href="/2021/02/02/2021-02-02-Boostcamp12.1/">Day12) Optimization</a></p><p class="categories"><a href="/categories/Boostcamp/">Boostcamp</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-01-28T15:00:00.000Z">2021-01-29</time></p><p class="title"><a href="/2021/01/29/2021-01-29-week2/">Week2</a></p><p class="categories"><a href="/categories/Further-Q/">Further_Q</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-12-29T15:00:00.000Z">2020-12-30</time></p><p class="title"><a href="/2020/12/30/2020-12-30-ML&amp;Mathmatics/">Introduction and Motivation</a></p><p class="categories"><a href="/categories/Mathmatics-for-ML/">Mathmatics_for_ML</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-12-29T15:00:00.000Z">2020-12-30</time></p><p class="title"><a href="/2020/12/30/2020-12-30-ML&amp;Mathmatics2/">Linear Algebra</a></p><p class="categories"><a href="/categories/Mathmatics-for-ML/">Mathmatics_for_ML</a></p></div></article></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/boj/"><span class="tag">boj</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/book/"><span class="tag">book</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/books/"><span class="tag">books</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/math/"><span class="tag">math</span><span class="tag">2</span></a></div></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.png" alt="Jo Member" height="28"></a><p class="is-size-7"><span>&copy; 2021 jo-member</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>